import { ISignClient } from '@walletconnect/types/dist/types/sign-client/client';
import { StellarWalletsModal } from '../modal/stellar-wallets-modal';

import {
  albedoGetPublicKey,
  AlbedoNetwork,
  albedoSignTransaction,
} from './albedo';
import {
  freighterGetPublicKey,
  freighterSignBlob,
  freighterSignTransaction,
  isFreighterInstalled,
} from './freighter';
import {
  isRabetAvailable,
  rabetGetPublicKey,
  RabetNetwork,
  rabetSignTransaction,
} from './rabet';
import {
  connectWalletConnect,
  createWalletConnectClient,
  IParsedWalletConnectSession,
  makeWalletConnectRequest,
  parseWalletConnectSession,
  WalletConnectAllowedMethods,
  WalletConnectTargetChain,
} from './walletconnect';
import { xBullGetPublicKey, xBullSignTransaction } from './xbull';

export enum WalletType {
  XBULL = 'XBULL',
  FREIGHTER = 'FREIGHTER',
  ALBEDO = 'ALBEDO',
  RABET = 'RABET',
  WALLET_CONNECT = 'WALLET_CONNECT',
}

export enum WalletNetwork {
  PUBLIC = 'Public Global Stellar Network ; September 2015',
  FUTURENET = 'Test SDF Future Network ; October 2022',
  TESTNET = 'Test SDF Network ; September 2015',
}

export interface IStellarWalletsSignBlob {
  blob: string
  publicKey?: string;
  network?: WalletNetwork;

  // Values only used for wallet connect, if not supplied we will use the defaults
  method?: WalletConnectAllowedMethods;
  chain?: WalletConnectTargetChain;
}

export interface IStellarWalletsSignTx {
  xdr: string
  publicKey?: string;
  network?: WalletNetwork;

  // Values only used for wallet connect, if not supplied we will use the defaults
  method?: WalletConnectAllowedMethods;
  chain?: WalletConnectTargetChain;
}

export type IStellarWalletsKitSignParams = IStellarWalletsSignBlob | IStellarWalletsSignTx

export interface IConnectWalletConnectParams {
  chains?: WalletConnectTargetChain[];
  methods?: WalletConnectAllowedMethods[];
  pairingTopic?: string;
}

export interface ISupportedWallet {
  name: string;
  type: WalletType;
  isAvailable: boolean;
  icon: string;
}

interface ISignClientExtended extends ISignClient {
  on: (event: string, cb: (data: { topic: string }) => void) => void;
}

export class StellarWalletsKit {
  private selectedWallet!: WalletType;
  private network!: WalletNetwork;
  private modalElement?: StellarWalletsModal;

  constructor(params: {
    selectedWallet: WalletType;
    network: WalletNetwork;
  }) {
    this.setWallet(params.selectedWallet);
    this.setNetwork(params.network);
  }

  /**
   * This method will return an array with all wallets supported by this kit but will let you know those the user have already installed/has access to
   * There are wallets that are by default available since they either don't need to be installed or have a fallback
   */
  static async getSupportedWallets(): Promise<ISupportedWallet[]> {
    return [
      {
        name: 'xBull Wallet',
        type: WalletType.XBULL,
        isAvailable: true,
        icon: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8zOTMzXzQyNzI0KSI+CjxjaXJjbGUgY3g9IjI1Ni4xNDQiIGN5PSIyNTYiIHI9IjI1NiIgZmlsbD0iIzIwMjAyMCIvPgo8cGF0aCBkPSJNMjA1LjU1MyAxNzEuODc1QzIxMS40MzUgMTYxLjY4NyAyMTguMjY4IDE1Ny40NDMgMjI1LjIwNiAxNTcuMDMxQzIzOS4yNzggMTU2LjEgMjcwLjc0IDE3OS4yNzEgMjYwLjc4NiAxOTMuMDNMMjc5LjQzMyAyMjUuNTZDMjkxLjM0NiAyMzUuNTQ0IDMwMy40MSAyNDMuNDA3IDMxNS43NzEgMjQ4LjYyOUMzMTMuNDYxIDI1OC4zMDIgMzE4Ljg0IDI2MS43NjkgMzI0LjI2NiAyNjUuMTgxQzMxNy4wMjkgMjUyLjUxMSAzMzEuMjAxIDI0NS40NzQgMzM4LjgzOSAyNTguMDQ1QzM0Ni43MyAyNjkuMTEyIDM0OC44NDMgMjgwLjU5NiAzNDQuMTE3IDI4OS41NDNDMzM3LjEzIDMwMi45MzkgMzE4LjM4NCAzMTIuODY3IDMwOS44ODkgMzI1LjMzM0MzMjcuMTg0IDMwOS42NjMgMzUwLjQ1IDMxMS40MjIgMzU5LjY0OSAyOTMuMjEzQzM2NS4zNzcgMjgxLjkzNyAzNTEuMDU0IDI0OC41MjcgMzQ0LjM3IDIzNy4yNTFDMzM0LjAxNSAyMTkuOTI1IDMyMS4wOTkgMjI0Ljk0MSAzMTkuNjQgMjMwLjUyOEMzMDUuOTE5IDIyMy4wMjcgMjkzLjcwNiAyMTEuMTMxIDI4MS4yNDEgMjAxLjE5OUMyODcuMDcxIDE5Ni4wODEgMjkwLjM5IDE4OC42ODQgMjg0LjAxIDE4NC43QzI3MC45NCAxNzYuNDI3IDI1NS43NjMgMTUxLjcwNCAyMzYuMDYxIDE0Ni44OTFDMjM0LjA5OSAxNDYuNDA2IDIzMi4xMDEgMTQ2LjE0MyAyMzAuMTE2IDE0Ni4xNDNDMjE5Ljg0NyAxNDYuMTQzIDIwOS44MDQgMTUzLjEwOCAyMDUuNTUzIDE3MS44NzUiIGZpbGw9IiM0RTRCNjYiLz4KPHBhdGggZD0iTTIzOS4xNzcgNDY3QzI1NC42NDggNDY3IDI2OS43MjkgNDY0LjkyMiAyODQuMDIzIDQ2MS4wNjdDMTk2LjAyNiA0ODQuNzIxIDE0Mi4yMzkgMzgzLjk3MiAyMDkuMTIyIDMxMy4xMjZDMTg0LjQ5MyAzMDYuNDU2IDE2OC42NjUgMjgxLjYyOCAxNzAuMjIgMjUxLjk5MUMzNy4zMzUxIDM0OS40MzQgMTAwLjM2MiA0NjcgMjM5LjE3NyA0NjdWNDY3Wk0yODQuMDQ5IDQ2MS4wNTlDMjg0LjE4NyA0NjEuMDIyIDI4NC4zMjMgNDYwLjk4NyAyODQuNDYxIDQ2MC45NDlDMjg0LjMyNSA0NjAuOTg0IDI4NC4xODUgNDYxLjAyNCAyODQuMDQ5IDQ2MS4wNTlaTTI4NC4wMjMgNDYxLjA2N0MyODQuMDM0IDQ2MS4wNjUgMjg0LjAzOSA0NjEuMDYyIDI4NC4wNDkgNDYxLjA1OUMyODQuMDQxIDQ2MS4wNjIgMjg0LjAzMSA0NjEuMDY1IDI4NC4wMjMgNDYxLjA2N1oiIGZpbGw9IiNDMTlDRkMiLz4KPHBhdGggZD0iTTI1NS42MDkgMTQ0Ljk3OUMyNjEuMzQzIDE0OC43MDMgMjY2LjcxOCAxNTMuNjY4IDI3MS42OTMgMTU4LjY4NEMzMTguMjg1IDE0OC40OTYgMjg4LjgzMiAxMDMuMzkyIDMxMy4wNTcgODUuNzU3M0MyODIuNDUgOTYuNDExMyAzMDEuNjk5IDE0Ni4zNzMgMjU1LjYwOSAxNDQuOTc5IiBmaWxsPSIjQzE5Q0ZDIi8+CjxwYXRoIGQ9Ik0xNzkuMzY5IDE4MS41NDdMMjA1LjU1MyAxNzEuODc0QzE5OS4xNyAxMTkuMTE3IDI3MS43NDUgOTcuNzA0MSAyNDcuMjE4IDQ1QzI0Ni4xNjMgMTA0LjY4NSAxNzMuNDg3IDEwNi4wMzEgMTc5LjM2OSAxODEuNTQ3WiIgZmlsbD0iI0MxOUNGQyIvPgo8cGF0aCBkPSJNMjQ1LjY2MSAyOTYuMDZDMjU4LjY3NiAyOTAuMDYgMjcxLjY0NCAyODEuOTM3IDI4NC42NjEgMjg1Ljc2NUMyNzAuMzg1IDI3Ni40MDYgMjUyLjg0OCAyODAuOTA1IDIzNS4xNTQgMjgyLjE0NkMyMTEuMzgzIDI4My44IDE4Ny4yNiAyODEuNzMgMTcwLjIyIDI1MS45OTFDMTc3LjQ2IDI4OS41OTMgMjEwLjk4MiAzMTIuMDQxIDI0NS42NjEgMjk2LjA2IiBmaWxsPSIjQzE5Q0ZDIi8+CjxwYXRoIGQ9Ik0yMzYuMTExIDEwNC41ODNDMjIxLjI4MiAxMjQuNDQ2IDIwMi4xMzUgMTQzLjY4NyAyMDUuNTUzIDE3MS44NzRDMjEwLjYyOCAxNDkuNDc3IDIyMy45NSAxNDMuODkxIDIzNi4wNjEgMTQ2Ljg5QzI1NS43NjMgMTUxLjcwMyAyNzAuOTQgMTc2LjQyNiAyODQuMDEgMTg0LjY5OUMyOTAuMzkgMTg4LjY4MyAyODcuMDcxIDE5Ni4wOCAyODEuMjQxIDIwMS4xOThDMjkzLjcwNiAyMTEuMTMgMzA1LjkxOSAyMjMuMDI2IDMxOS42NCAyMzAuNTI3QzMyMS4wOTkgMjI0Ljk0IDMzNC4wMTUgMjE5LjkyNCAzNDQuMzcgMjM3LjI1MUMzNTEuMDU1IDI0OC41MjcgMzY1LjM3NyAyODEuOTM2IDM1OS42NDkgMjkzLjIxMkMzNTAuNDUgMzExLjQyMSAzMjcuMTg0IDMwOS42NjIgMzA5Ljg4OSAzMjUuMzMyQzI5OS4zMzYgMzA1Ljc4MyAyNzguMjI5IDMwMC44MTUgMjU2Ljg2OCAyOTcuNjYyQzI2NS41NjQgMjkwLjk4OSAyNzQuNDA4IDI4NC45OSAyODQuNjYxIDI4NS43NjRDMjcxLjY0NCAyODEuOTM2IDI1OC42NzYgMjkwLjA1OSAyNDUuNjYxIDI5Ni4wNTlDMjEwLjk4MiAzMTIuMDQgMTc3LjQ2IDI4OS41OTMgMTcwLjIyIDI1MS45OUMxNjguNjY1IDI4MS42MjggMTg0LjQ5MyAzMDYuNDU2IDIwOS4xMjIgMzEzLjEyNkMxNDIuMTI3IDM4NC4wOSAxOTYuMjA2IDQ4NS4wNTMgMjg0LjQ2MSA0NjAuOTQ5QzM1OS43NSA0NDAuMzYyIDQxNS4yODggMzY5Ljc2MyA0MTUuMjg4IDI4NS43NjRDNDE1LjI4OCAyMTEuMjg2IDM3MS42MDkgMTQ3LjMwNiAzMDkuMTg4IDExOS40MjdDMzEyLjA1NCAxMzUuOTI2IDMxNS42NzIgMTUxLjg1NSAyODYuNzcyIDE3My42ODNDMjc3LjY3NSAxNjUuODIgMjY3LjUyMyAxNTIuNjg3IDI1NS42MSAxNDQuOTc5QzI4Mi40OTkgMTQ1LjgwNyAyODcuMTIzIDEyOS4xNTEgMjkyLjQ1MSAxMTMuMDE0QzI3NS4yODMgMTA3LjQwMyAyNTcuMzYgMTA0LjU1NCAyMzkuMzQ2IDEwNC41NTRDMjM4LjI2OCAxMDQuNTU0IDIzNy4xODkgMTA0LjU2NCAyMzYuMTExIDEwNC41ODNWMTA0LjU4M1pNMjM0Ljg1NSAxOTMuNzUzQzIzOC4xNzEgMTk0LjQyMyAyNDEuNTQgMTk3LjIxNyAyNDQuNjA2IDIwMC4zNzJDMjQ5LjU4MSAyMDUuNDkzIDI1NC4zMDcgMjA2LjM3NSAyNjAuMzM1IDIwMC45OTRMMjc5LjQzMyAyMjUuNTU5TDI2MC43ODYgMTkzLjAyOUMyNjAuNTM2IDE5NS42MTYgMjU4LjQ3NSAxOTYuMjM1IDI1NS45NjQgMTk2LjA4QzI1MS41OTMgMTk1LjgwNCAyNDYuMDc4IDE5Mi42NjcgMjQwLjI5MiAxOTIuNjY0QzIzOC40OTcgMTkyLjY2NCAyMzYuNjc2IDE5Mi45NjcgMjM0Ljg1NSAxOTMuNzUzWk0zMjQuMjY2IDI2NS4xOEMzMjcuMzMzIDI1OS44NTMgMzMxLjUwMSAyNTYuMzg3IDMzOC44MzkgMjU4LjA0NEMzMzYuMDIxIDI1My40MDMgMzMyLjMxMSAyNTEuNDM1IDMyOS4xMTcgMjUxLjQzNUMzMjMuNjU0IDI1MS40MzUgMzE5LjcgMjU3LjE4NiAzMjQuMjY2IDI2NS4xOCIgZmlsbD0iI0MxOUNGQyIvPgo8cGF0aCBkPSJNMjIyLjU0MSAxMjIuMjczQzIxMS45MzUgMTM2LjU5OCAyMDMuMTkgMTUyLjAxNiAyMDUuNTUzIDE3MS44NzZDMjEwLjYyOCAxNDkuNDc5IDIyMy45NSAxNDMuODkyIDIzNi4wNjEgMTQ2Ljg5MkMyNTUuNzYzIDE1MS43MDUgMjcwLjk0IDE3Ni40MjggMjg0LjAxIDE4NC43MDFDMjkwLjM5IDE4OC42ODUgMjg3LjA3MSAxOTYuMDgyIDI4MS4yNDEgMjAxLjJDMjkzLjcwNiAyMTEuMTMyIDMwNS45MTkgMjIzLjAyOCAzMTkuNjQgMjMwLjUyOUMzMjEuMDk5IDIyNC45NDIgMzM0LjAxNSAyMTkuOTI2IDM0NC4zNyAyMzcuMjUyQzM1MS4wNTUgMjQ4LjUyOCAzNjUuMzc3IDI4MS45MzggMzU5LjY0OSAyOTMuMjE0QzM1MC40NSAzMTEuNDIzIDMyNy4xODQgMzA5LjY2NCAzMDkuODg5IDMyNS4zMzRDMjk5LjMzNiAzMDUuNzg1IDI3OC4yMjkgMzAwLjgxNyAyNTYuODY4IDI5Ny42NjRDMjY1LjU2NCAyOTAuOTkxIDI3NC40MDggMjg0Ljk5MiAyODQuNjYxIDI4NS43NjZDMjcxLjY0NCAyODEuOTM4IDI1OC42NzYgMjkwLjA2MSAyNDUuNjYxIDI5Ni4wNjFDMjEwLjk4MiAzMTIuMDQyIDE3Ny40NiAyODkuNTk1IDE3MC4yMiAyNTEuOTkyQzE2OC42NjUgMjgxLjYzIDE4NC40OTMgMzA2LjQ1OCAyMDkuMTIyIDMxMy4xMjhDMTY1LjQ5NyAzNTkuMzE3IDE3My4xODcgNDE4LjIyOCAyMDguMjE1IDQ0Ny4wODhDMzA2LjQyNCA0NjYuOTQ4IDM5OC45MDIgMzg5LjgzMSAzOTguOTAyIDI4NS43NjZDMzk4LjkwMiAyMjEuNTI5IDM2My4xMTYgMTY1LjkyNyAzMTAuODk3IDEzOC44NzdDMzA5Ljk0MSAxNDkuMjczIDMwNC40MTMgMTYwLjM5MyAyODYuNzcyIDE3My42ODVDMjc3LjY3NSAxNjUuODIyIDI2Ny41MjMgMTUyLjY4OSAyNTUuNjEgMTQ0Ljk4MUMyNzMuNDUyIDE0NS40OTggMjgxLjU0MyAxMzguMzYyIDI4Ni40NjkgMTI4LjczN0MyNzEuMTQ0IDEyMy44NTMgMjU1LjEyMiAxMjEuNCAyMzkuMDg4IDEyMS40QzIzMy41NjUgMTIxLjQgMjI4LjA0IDEyMS42ODkgMjIyLjU0MSAxMjIuMjczIiBmaWxsPSIjMjAyMDIwIi8+CjxwYXRoIGQ9Ik0yMDkuMTIyIDMxMy4xMjZDMTQyLjEyNyAzODQuMDkgMTk2LjIwNiA0ODUuMDUzIDI4NC40NjEgNDYwLjk0OUMxODMuNDkxIDQ2NS40OTggMTkzLjQ5MSAzNDcuNDcxIDI1Ny41MjIgMzEzLjkwM0MyODAuNTQgMzE3LjExIDMwNC4yNTkgMzIxLjE5OCAzMTUuNjcyIDM0Mi4yOTdDMzMyLjkxIDMyNi42ODEgMzU2LjE3OSAzMjguMzg2IDM2NS40MjcgMzEwLjE3N0MzNjkuMTQ3IDMwMi44ODcgMzY0LjQyNCAyODYuMjg1IDM1OC44NDQgMjcyLjQxOUMzNjEuMDU1IDI4MC45NTggMzYxLjkwNyAyODguODE4IDM1OS42NDkgMjkzLjIxMkMzNTAuNDUgMzExLjQyMSAzMjcuMTg0IDMwOS42NjIgMzA5Ljg4OSAzMjUuMzMyQzI5OS4zMzYgMzA1Ljc4MyAyNzguMjI5IDMwMC44MTUgMjU2Ljg2OCAyOTcuNjYyQzI2NS41NjQgMjkwLjk5IDI3NC40MDggMjg0Ljk5IDI4NC42NjEgMjg1Ljc2NEMyNzEuNjQ0IDI4MS45MzYgMjU4LjY3NiAyOTAuMDU5IDI0NS42NjEgMjk2LjA1OUMyMTAuOTgyIDMxMi4wNCAxNzcuNDYgMjg5LjU5MyAxNzAuMjIgMjUxLjk5QzE2OC42NjUgMjgxLjYyOCAxODQuNDkzIDMwNi40NTYgMjA5LjEyMiAzMTMuMTI2IiBmaWxsPSIjMjYyMzM4Ii8+CjxwYXRoIGQ9Ik0xOTMuMTQ0IDE3Ni41TDIxMi42NDQgMTY5LjVDMjA2LjI2MiAxMTYuNzQyIDI3Ny4xMDEgMTA4LjE4MSAyNTIuMzQ1IDU5LjMwNDlDMjUyLjM0NSAxMDguMTgxIDE4NC41NTMgMTA1LjUxOCAxOTMuMTQ0IDE3Ni41WiIgZmlsbD0iIzIwMjAyMCIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzM5MzNfNDI3MjQiPgo8cmVjdCB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K',
      },
      {
        name: 'WalletConnect',
        type: WalletType.WALLET_CONNECT,
        isAvailable: true,
        icon: 'data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHdpZHRoPSI0MDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxjbGlwUGF0aCBpZD0iYSI+PHBhdGggZD0ibTAgMGg0MDB2NDAwaC00MDB6Ii8+PC9jbGlwUGF0aD48ZyBjbGlwLXBhdGg9InVybCgjYSkiPjxjaXJjbGUgY3g9IjIwMCIgY3k9IjIwMCIgZmlsbD0iIzMzOTZmZiIgcj0iMTk5LjUiIHN0cm9rZT0iIzY2YjFmZiIvPjxwYXRoIGQ9Im0xMjIuNTE5IDE0OC45NjVjNDIuNzkxLTQxLjcyOSAxMTIuMTcxLTQxLjcyOSAxNTQuOTYyIDBsNS4xNSA1LjAyMmMyLjE0IDIuMDg2IDIuMTQgNS40NjkgMCA3LjU1NWwtMTcuNjE3IDE3LjE4Yy0xLjA3IDEuMDQzLTIuODA0IDEuMDQzLTMuODc0IDBsLTcuMDg3LTYuOTExYy0yOS44NTMtMjkuMTExLTc4LjI1My0yOS4xMTEtMTA4LjEwNiAwbC03LjU5IDcuNDAxYy0xLjA3IDEuMDQzLTIuODA0IDEuMDQzLTMuODc0IDBsLTE3LjYxNy0xNy4xOGMtMi4xNC0yLjA4Ni0yLjE0LTUuNDY5IDAtNy41NTV6bTE5MS4zOTcgMzUuNTI5IDE1LjY3OSAxNS4yOWMyLjE0IDIuMDg2IDIuMTQgNS40NjkgMCA3LjU1NWwtNzAuNyA2OC45NDRjLTIuMTM5IDIuMDg3LTUuNjA4IDIuMDg3LTcuNzQ4IDBsLTUwLjE3OC00OC45MzFjLS41MzUtLjUyMi0xLjQwMi0uNTIyLTEuOTM3IDBsLTUwLjE3OCA0OC45MzFjLTIuMTM5IDIuMDg3LTUuNjA4IDIuMDg3LTcuNzQ4IDBsLTcwLjcwMTUtNjguOTQ1Yy0yLjEzOTYtMi4wODYtMi4xMzk2LTUuNDY5IDAtNy41NTVsMTUuNjc5NS0xNS4yOWMyLjEzOTYtMi4wODYgNS42MDg1LTIuMDg2IDcuNzQ4MSAwbDUwLjE3ODkgNDguOTMyYy41MzUuNTIyIDEuNDAyLjUyMiAxLjkzNyAwbDUwLjE3Ny00OC45MzJjMi4xMzktMi4wODcgNS42MDgtMi4wODcgNy43NDggMGw1MC4xNzkgNDguOTMyYy41MzUuNTIyIDEuNDAyLjUyMiAxLjkzNyAwbDUwLjE3OS00OC45MzFjMi4xMzktMi4wODcgNS42MDgtMi4wODcgNy43NDggMHoiIGZpbGw9IiNmZmYiLz48L2c+PC9zdmc+',
      },
      {
        name: 'Albedo',
        type: WalletType.ALBEDO,
        isAvailable: true,
        icon: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDIwMDEwOTA0Ly9FTiIKICJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy1TVkctMjAwMTA5MDQvRFREL3N2ZzEwLmR0ZCI+CjxzdmcgdmVyc2lvbj0iMS4wIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiB3aWR0aD0iMTI4LjAwMDAwMHB0IiBoZWlnaHQ9IjEyOC4wMDAwMDBwdCIgdmlld0JveD0iMCAwIDEyOC4wMDAwMDAgMTI4LjAwMDAwMCIKIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIG1lZXQiPgoKPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsMTI4LjAwMDAwMCkgc2NhbGUoMC4xMDAwMDAsLTAuMTAwMDAwKSIKZmlsbD0iIzAwOTJiYiIgc3Ryb2tlPSJub25lIj4KPHBhdGggZD0iTTYwOSAxMjQwIGMtMiAtMTYgLTUgLTIzIC0yNiAtNzAgLTIwIC00NCAtNTQgLTEyNiAtNjkgLTE2NSAtNCAtMTEKLTYgLTIzIC02IC0yNyAxIC01IC0zIC04IC05IC04IC01IDAgLTggLTQgLTQgLTkgMyAtNSAxIC0xMiAtNSAtMTYgLTYgLTQgLTgKLTExIC01IC0xNiA0IC01IDEgLTkgLTQgLTkgLTYgMCAtMTEgLTcgLTExIC0xNSAwIC04IC0xNiAtNDkgLTM2IC05MiAtMjAgLTQyCi0zNyAtODIgLTM4IC04OCAtMSAtNSAtMTIgLTI4IC0yMyAtNTAgLTExIC0yMiAtMjEgLTQzIC0yMiAtNDcgLTEgLTQgLTExIC0yOQotMjIgLTU1IC0xMiAtMjcgLTIyIC01NSAtMjQgLTYzIC0yIC04IC0xMiAtMzMgLTIzIC01NSAtMTEgLTIyIC0yNiAtNTggLTMzCi04MCAtOCAtMjIgLTE2IC00MiAtMjAgLTQ1IC04IC03IC03OCAtMTc3IC05MSAtMjIwIC02IC0xOSAtMTcgLTQ0IC0yNCAtNTUKLTIyIC0zMSAtMTcgLTM1IDQ5IC0zNSBsNjIgMCAxNyAzOCBjMjMgNTMgMzEgNzYgMzAgODQgLTEgNSAzIDggOCA4IDUgMCA5IDMKOSA4IC0xIDQgMCAxMCAxIDE1IDEgNCAzIDEwIDQgMTUgMSA0IDEwIDI0IDE5IDQ2IDE5IDQyIDEzIDQyIDExNyAxMSAxMTEgLTMzCjQ2NCAtMjggNDg2IDYgMyA1IDkgNyAxNCA0IDUgLTMgMjUgMSA0NCA5IGwzNiAxNSAyMSAtNDcgYzExIC0yNiAyNyAtNjUgMzUKLTg3IDggLTIyIDIxIC01MCAzMCAtNjIgOCAtMTMgMTIgLTIzIDkgLTIzIC0zIDAgLTEgLTkgNSAtMjAgOCAtMTQgMjEgLTIwIDQ2Ci0yMCBsMzYgMCAtMjIgMzUgYy0xMiAxOSAtMTkgMzUgLTE1IDM1IDMgMCAtMyAxNyAtMTMgMzggLTE4IDM0IC0zNCA2OSAtMzYKODIgLTEgMyAtOCAyMSAtMTcgNDAgLTkgMTkgLTI5IDY3IC00NCAxMDUgLTE1IDM5IC0zMyA4MSAtNDEgOTUgLTcgMTQgLTM4IDg4Ci03MCAxNjUgLTY1IDE1OSAtMTA5IDI2MiAtMTI0IDI4NyAtNSAxMCAtMTAgMjIgLTEwIDI4IDAgMTAgLTM2IDk0IC03MSAxNjMKLTEwIDIyIC0xOSA0NSAtMTkgNTMgMCA4IC01IDE0IC0xMSAxNCAtNSAwIC04IDQgLTQgOSAzIDUgMSAxMiAtNSAxNiAtNiA0IC04CjExIC01IDE2IDQgNSAxIDkgLTYgOSAtNyAwIC05IDMgLTYgNyA0IDMgMiAxMiAtNCAyMCAtMTMgMTUgLTU4IDE4IC02MCAzegptOTYgLTIzNCBjMTQgLTMwIDI1IC01OCAyNSAtNjEgMCAtNiAyNCAtNjIgNjAgLTE0MCAxMCAtMjIgMjIgLTUyIDI1IC02NyA0Ci0xNiAxMCAtMjggMTQgLTI4IDQgMCA4IC02IDggLTEyIDAgLTcgOSAtMzMgMjEgLTU4IDExIC0yNSAzMyAtNzQgNDggLTExMCAxNAotMzYgMzQgLTgzIDQ0IC0xMDUgNDEgLTkyIDQ0IC0xMDUgMjkgLTExOSAtOCAtNyAtNTkgLTIxIC0xMTQgLTMxIC0xMjQgLTIzCi0yOTIgLTIzIC0zOTUgMCAtNDEgOSAtODMgMTggLTk0IDIwIC0yOSA3IC0zMCAxMiAtMTAgNTcgMTAgMjMgMTkgNDUgMTkgNDggMQozIDE0IDMyIDMwIDY0IDE1IDMzIDI4IDY2IDI4IDczIDAgNyA0IDEzIDkgMTMgNSAwIDcgNCAzIDkgLTMgNSAtMSAxMiA1IDE2IDYKNCA4IDExIDUgMTYgLTQgNSAtMSA5IDQgOSA2IDAgMTEgNyAxMSAxNSAwIDggNCAyMyA5IDMzIDE5IDM0IDY5IDE0OCA4MiAxODcKOCAyMiAxOCA0MyAyMiA0NiA1IDMgOSAxMCA5IDE1IDAgNSA0IDE4IDkgMjkgMTIgMzIgMjAgNjAgMTkgNjQgLTEgMiAyIDcgNwoxMCA1IDMgMTQgMTggMjAgMzQgNyAxNSAxNSAyNyAxOCAyNyAzIDAgMTYgLTI0IDMwIC01NHoiLz4KPC9nPgo8L3N2Zz4K',
      },
      {
        name: 'Freighter',
        type: WalletType.FREIGHTER,
        isAvailable: await isFreighterInstalled(),
        icon: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxMjhweCIgaGVpZ2h0PSIxMjhweCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDEyOCAxMjgiIHhtbDpzcGFjZT0icHJlc2VydmUiPiAgPGltYWdlIGlkPSJpbWFnZTAiIHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiB4PSIwIiB5PSIwIgogICAgaHJlZj0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFJQUFBQUNBQ0FZQUFBRERQbUhMQUFBQUJHZEJUVUVBQUxHUEMveGhCUUFBQUNCalNGSk4KQUFCNkpnQUFnSVFBQVBvQUFBQ0E2QUFBZFRBQUFPcGdBQUE2bUFBQUYzQ2N1bEU4QUFBQUJtSkxSMFFBL3dEL0FQK2d2YWVUQUFBQQpDWEJJV1hNQUFCWWxBQUFXSlFGSlVpVHdBQUE1MWtsRVFWUjQyczE5ZWJDbFIzWGY3L1QzM1h2ZmUvTm0wMmhEYUJsWmt0RUNDSkN3CkxDVExJd2dRaUdQS3FSb2xyaGdDcGp6QzJOaUFUY1dwL0tGUlZWSkZnVUU0QmdjTllLQlN1Q3FTYldLY2drZ1FKQnRMSU15Z1dLQU4KaEZhUUVOcG01czNNZTNmNSt1U1AzczdwN3UrK04yQzd1S1hSZmZlN3Zadys1OWRuNitVU2ZvSVhnK25HdlJqc3ZnWlRJdUx3L09QLwplZldNQVFZdkkrb3VBdU5uUVhRMkVUMlAyVzQzaGtheUJTSUMzSDhBQUtMMGJmaWJDTEZjcWdjQUJQOVdyUmZhelQrbjkxVGZmZVQ0CkpWWExoM0xrMitUNFdiV2YwVlQwbnowREFZYUl3U0FRMWdBY0lNS1RZRHhBNFBzNjR2MmpZWFBucGI5S0QwY09NTk05TjJKdy9tN04KKzJOOTBZOWI4WmE5M082NkJsM28vSlAvYVh3dUdHOGdRNjhINDZXTG84SG1RZXRZTkowQm5XVlk3a0RNSE9TbW1HVGdHREFYQktHUwpFNVRndTIrTDQ1QVU4M1BCRk1JZ0oweWlmcUVWSU5BMGtpaVV0Ni9HbWJlUlBUZGswRFJBMndDaklVREc4VzkxalErRGFEK0FMN1NNCnoxMzZKcm8zQUdIL1ByUVhYMDNUZnhZQTdOM0w1dnk3UVZmZFNCMEFmUHc5YS8vU0dOcERoTmN1THd5WEdNQjR5ckIyMm9GY0dZQWIKSWplSG1jUms3bU5LNWIwUUpoSEl6MEFwdUdwZEw0RGE3Tk9hUUFOcm5pYW9na0ZxaUVxNVFpTlY2aHBEREFZRFlDSjAvbmt6YUtsWgpHQUhHQUN0SGVCV0VMNEM3ajE3K3hzRVhBZUNHRzdqWmZRK1k5cEw5SndQQTlYdDRjUFUraDdTUHZXZjFGd3pvbXJZWnZtcGhTQmhQCkxUbzdtM3FwTkVSb3RHQllNRVhPNG13MjE1Z3pSL2k1Q2VrVFRpK3dxdWFBbzFyUFFSU0w5UFpERlRwRWV6M0FLVXlNZU02dWZrZUUKRGdDMURRMFdGNEMxQ1RDYjhjMGd1dWJ5WDZPdkFjQTNydWZCc1dpRERRR0F3YlJ2RDlxcjk5SDA0Kzg2ZUJ5YTBYdmJadkFidzlaZwpiVEpoQURNUURBRUdoaWpaeG5uTVpqVmcrTStFbnRrYy9sZVp5WUw1SGszckNEOXZLOUtUaEM1cG1PZEw1TUluQWpNektXQUdFSUF3CkY2QUZ3RWpYTlFDWUFVSm5pQ3lBd2FaRndyUURabE44ZER6RWU2NjhpZzUvNDNvZVhMUUhzNDM0QnVzQ1lPOWVOdTZkN01kK2Y3b0wKM0gxcXk5TG9qSlhWTVVBMEkwWVRsWHZHcFBrZ0NKTHlndmNnMk9oTVVTREluYm01UWxxL3pUVGJOK1lUeUg2TUlRZUFpQ1RNQlhUdgpPQ01mQkRDRG53S0FpWjNqQ0hRQTJ1MWJDQWRYK0NGTDlOYkwvejNkc25jdm0yc0FyR2NTNWdMZ2h0M2NCRnYvc1hldnZkUFE0THEyCk5aak1KbU9BUnptUnRSbFdZMTU5SmxYTXdVYUFWQU5WVFVoOTVxVGFKbFZWLzNvK1FFVWoxV25OUVZBeGZ4SUVoZm4wRTRVTW1OT2MKbVN3dDBIQXlBMnlIZDczaTEraERnUE1OcnJvcStHTGx5MnhFK0I5OTU5b0hGb2VqNnl4M21FekhFekJHQURsMWxNZ0xIeEgxRG90Lwo0Z3VPbjcwbGo4L0xkbUxSb203V2p4TWJzL2lPNVR0bmJYQlBtNzRCcVR2emZtTGZQZU5LN2JNdTUvK0kzNHMrMVQrayt2bFl2WEVGCkE3RFdHd2dHQUJvZVhiTVRhNEhsVGJqdXEzL0dmd2dBVjExRjNRMDNjSE5NQU5pN2wwMFEvdlcvTy83VExZdWpkeDlaRzNmTVBHT20KSVhzcUhYTWQxWUZZeVFRbHlJSko1TmpNaVNINis4cmc1NERBOTBHcG9WdzRHWDE5Yllidm1DTjlWYkJBMDFDTUQ3SURGb0tWeUlVRwpHcGNQT1o4TkhsUXMyblh2RE1BTXJlWHUwQkh1dGk3ajkyNzdUUGVuQVFUc1RmbTZBR0J3VkVUWC8rN2tENWNYaDI4NXREcWVBVEJnCnRGeWRnZ0JBQWd5YVFiVVpJa0hrK3cwU0xJUlhDSUFyeklwdFVwcDVRcGlRMkpBek1BTkRtckVVTlZRZnVPVTRjbHAwZWM5U0pxRXQKdWFCSDFmWGxDNUFqc3hPaFhLS3pBV0NlUGNTejdadk5XNEltdU5aOVg1ajg0a0VJOWE1LzU5bzdGd2FqNjQ1T0pqTUNOOG9zOXRyRQo0RVgzMi9KbzgzcHRlS3F3Yms1Z0hpM3hiem9HbTkzZmxzeEVIbXV5S0RtcUltOVJLNWM5S3lPUk1KYXluVEt5Y1ZaaXl5WnFEaDl4ClBrRXRSRlFBQ01ML3lPK3NYdG5TNE12TUhSamNFYUZSQSswUnZzZWh6b3IxT2ppQ3NURUVuQzlBTXNRUUdtcGpTYUxRQm1zNjEzRlEKZFdaUEo1eldUZTF1Q0dTU1g4SlpuQVA2M2doS2hvc2lsR1dnYXd3MXhnQTh3NVdYdnBGdXpVRVFUY0Rldld5dTNrZlRqN3lkbDhIMAppYlpwd01BWW9LYlA4ZExPakxPWjB2bnlqK083c3JNVlI0bnpQc1NMQWJCbFl0RkkxUjRMTzVsb0RwK1NTcTNWemVrTkRXbzd6ZHFFCkpUY2gwazh1cjY5TmxYS1VwWm1pa3FkOWZPTmdBaWp5T3BtQmNod0VhcGg1TW1nQlMveXAyei9PeDExOE5VMmxQeEQvT1AvdTBOTDQKL2N1ajBabmp5WGpNektQYy9sVUZsTnZPR2xNcmZnRURJQ1l1aEIvZlNRbUxnek5WQlZJUFRkNldPOTlBT0s2QzRWd1Z2dmhPT25EUgpsNkF5ZWdqMUxPc01UQUM2Y0VoSmdGRUNxVWFINW45eXVGSFVwUXlzRnN3MFhGM2o4Yll0ZEFZdjJQY0N3STNuS3lVTFhML25HNE9yCjkxMDgvWlBmUFByelpyRHcxYTZiTU1obnMyVEJ2cVJHMVJhbWVCVjlDeTE1bTNOc2IxQ1hTb1hYVkhENHUvS2RUMWo1cm1qZDhhenIKNjZna1Z0ME1WTTJOLzlzbGpZUUc3L01oYW0ySWJDcUp3VkxPSXdER3VJSk5BNXJOY01YbGI2U3YzSElMdDFkZVNUUERZTnF6NzZJWgpBSFJFMTdhR3dFQVh2ZWxzWnVXb1ZPcVVBY1FaelJHUjdNRlFEYVg2UFByNHAxVERGSjRVRGMzVENqb2lnSnJSOVJCVWo2L1VUTUtrCkNFMmdvd2hkRDZMdjhMZTF3YzNua3A0Sy9ib1BiVUppQkJiTmkrSTNNWE0zR2dCRWZBMEE3TnFGanBuSlhMc2JBd0x4aDY5ZWUzVkQKZzllc1R0WUE1c1l4bmxTbmZRSk1UQ2RtZVBVWFFCQUhJMnhncHZKcXpLOHgzUTBxdDZVbExjVXI5TStjWk9DWmhUbDA5QWxUdnFjNAp2QWZFK1h0dXNuTXdCbUZLd0dTbXFneDl2Wm1Xb1JhblNlZExORWRXbVp1R1huWDdaL2kxUk1UMzNJaUJ1ZVpHVEFHQURkNDJIRFFBCjA1UUJnay9VSkI5QSt3STEreFJ6Q0lJNUxDQ2RVQ29Ia0lFb0I0R2FzVlNXRTh6aDdKbW1rMU1iK1V6bStuZ0tIMFlKTnhISE5icXEKOU5mR20vSVRNWmNTTmFmb3RrWlQvRXl4VUpTVHBNZkNKU0FZczhVUllDMnVCb0R6ZDJOcUNNUWZlZnY0UEdaKzNYamFBY3dteUV0NwpKZFF2S1BFcXZ5TWh2T0NrYU5Xcm1DdmFVU293TWs5eXREN3BPV3REcTNMTytra0RuZWVJbFRNMlQyT3Z3NXVLUmlqSG00U1hnMCtaClJPL0lLT2RZMVNsTkl6UERBdWJvS2dEd2EyLy9NejZYaUZ3NDBIWDQ1YVhSd21MWFRhY0FHZDhvY1lYd3VSNno2SlJpbmFDRFpBRTkKQzNPTmtKdUh4QUF4VUFicmRHakd4QnhVY2paS2paRjlKK3ZrWTlPemprdGhadCt2NzB1ZzhMTmlHQ3N6aFlvZUFqTlRQam5tK1J2SgpwSEF6NjNpNmVSTXRkWjE5QStERFFHYjdPbXNCdGs1MkpjcXBqckNheWtQNUxNa2dNUzA1ZDVTRUlueUdtdnBWUVBUMlFObmdvQTRwCjQ0VlM4Y2tJcDJFay82RFBMTlVtZ0JabVdqdmdNSzcxaEMvR0Y4MUJpYU02cjNQd1ptMXEweEY4QWdJejJGcUFRSzhIQUxydWJhczcKeWVKYmpSa3N1MjFjYVBJVXBtZFJkYmRMa2I0RTNQeXY3QS9veTFpcGNySGY3SGxQaUdSY2lvLzZ5cy9iTEpycVpMUlUrcG4vSGpLTgpjbnoxdHRjTCtTSWY1Vkt3YktNdlJLeU9pWDBaU25zdUNWM2JVdE4xdkdJYWVwSGhqbDg2YWhlYzhJUDZ6MVZxUkpaQXVVUmFoQ0t4ClpSQkRxS2pjL2hiK2hGRFpFTStxems3MnpzRlVaZVd6R1R6UE9WTmZLRTJUYVRuVTZaR2FTNDR2enlncU01ZTk1K1BYbnhNeWNvMmgKSXBYTWpHa1RvbVRZekdiY0xTM1Fac3Q0bVNHbWl4b0RXRWFYQ3c0VlFpR1djVFVqS0twbDZLOHlNd0NoTG5ObWhZTFVHeDF3dFQwMwp5RjZITFdNYzhtY0k0RTZ0eWhDeEZsbHdqWjRlb2NZUXRHb1dVZUdscDRIRFB5RlFocUl6YjRON2FYR3BVSitCN05vR2dNVkZocG5QClpTSGNCSmsrMnlMUnJzYWlDSTcxMXJIbEFjcWNnVUhWNmFPRjllZVNpYWxQQlJabC8wV1o2SHdGV3l3MWk5WlVkVTBRMmhkR09BcXoKSHNKcUVGZmFseHFncUVTS0I3V1g1QldMOW55OWN3eUFzNmNkQUVZVFduS1pJekV3MWkyeUIwc3hZSkR1UVBNSUVtaHFCa0VNQmdMeApPWEJxd0ZJZEJFMlFDVXR5SkN6VTVIVVY4NU1Ybm9SQ2hYQjZ0YVhJeWFmNlhQQ2hOaW5LZGpuMm43emJqRWVTSnhYVG9PaGhobVZ1CnhoT0F3ZWNZQnAzVWRSMVlldjhaa3dHQXJSWmdLSkNEUVRLd1R4UGtKaVJ0NUdHTi9Celd1Y2FCVzB4S3N5RE0zcDZjaFdOYURHOUoKYUxwRVR0Q0NhZk5HQ0drbG11YkYrM0VpeFFMa3pVQUp5anhLcUNleXhBSVFhem1VZVFJcGVFVlU1QkdCYU5vQmJIR0tBYkN0c3pNUQpROGY5V2QzNE1jNHlRUHBmd1lZbUZWclJCTGtORkV5U2hIUEcxVUlEaWZyVzY5WkV1ekFwR2FpVWlvWFdkR2tHaFJBdTJRcVZMT3JqClNRRnkzYVprTE9manpNMVlObTRSLzFkVnZkSXNtWW5zMFRKa080Q0JiUWFNQldZTDY2ZXhBa0dmWFlvbUxpQkFjclZVK2VHZEpMOTcKR2I4K1UzUHRsR2lpWkY0UWdCcHk0aVhybEpBeXp0ZUZ5Y1g0ZUIwZXVUK0RRNW5QTHRManluaXZlY2lsZ0RQTmtHTXpFNHVveTJUWgpnb0NSQ2M2WDlPNXptNElLUWZsQTRnQ2hHYTQ5WmdFeWFNWW5FRUJ6VkNBN1ZNeTNTeVdrNS9vMWFLR1FCSEV4cWxiNUplQUszeUdmCkdPamhUVDZ1Nm9RU25uMEZrWG41a3RlWk5HTWlqVXNab1Y1ZjBoTFN2bFZucWthWVFsWmtXSGlRNWYwM0FKNUNPMVFFUUFhZzFyM2IKRHBoTmdOa1k2S2F1ckduY1A3Y05pak5teTBZSkZ0NXBFSFJYbEVQcFhVdHpsV2tDVlY1cUJFNTBwUHFVd0d6TGVybDhXZFpUUEErKwpqbGdXempSbWJpN2p1NUJueXl3M1cwUStnZVNNRHAvRGZncGZMaVNiT0dhbE9ING1kaldjeTVIS3kvZVF2UXJhZ1NEYUlvSnBnRzRHClRGY1lzekV3R0FHTDJ3bkRKUWVHYmdLTUR3T3J6ektvZGM4SGk2NU4yNFhNbUNQSWtTUDIzMFdtdVdlS0xxU3hCWjZGakIrRFFVeVIKRnhHa3ZUeUI0RW5rU05TVlFWaXl2eUR2ZU5qWjF3TUx6ZWNGTC9zTHJRYVpzdUN2ZkpFaEJqTXhBYTFyaThJbVFnRHNDU1UvWEMzOApFQUNRWUF3SkpKTG5CSk0vSHNYQjcwUWlUQklPcmM1aGdXWUlXTXM0L0JTd3NKbXc4MktETTE1b3NQMGt3dklXd21pVHF6TWRBNnVICmdaWG5MQjcvSHVPeGIxc2NlQXdZTEFHalpjRE9FSVdmZ0J0Y1BFcHAzRndRMmFSSlRQUXBjUU5tZGlQTWhhaUVXVXlvSUJqQll6V2gKT01vQ1hJSkFUandXZEZFRWVXcXZQZ2pmaHVXMFVldDliejRhMDNmNUljM2FUdHJZdHJERGVUNWFiNDJTUjc1a3ZyeVNId2ZRRElEeApDbUNud0lXdk56ai8wZ1k3bnRkN2dFbTkxbzR3SHI3SDRoKytaUEhzSTR6bEU1SDVEb0dqYWF3YjJScFdiQytybmtYVTJtVWp4K0hLCkxldlpEdUdlZXFuOXdOdksya0hQbWtHeDV2QytOeC9sMUc2K2J5OEhBMlVEUU5sUlFURE5MeWYrYm9iQTBXZUE0M2NTcnZqVkZxZWUKblFSdmJUa2dhU3VsWTdoMmhISG5MUjIrOVFXTGhXM09YSVNaSXhkc0RMa2RUTG5ncW9zMEZSQW9BQjBUVDNJUTFDZkdzUzRnVmM4Sgp6T001QWExU0VkNXBxcWt5U0x1WCt3UklRdURVbFArZWcwOVFWV1dBKzdzZEFvZWZaUHpNSlFhdmZ0TUFpOHZlcWJGT2dLYWlCSEt0CnhOWTF2N0NKY09rdnRkaCtjb2ZiUHROaHNFUWc0eDNDbVBDSWxpelJUR2tzcVBBaGp0RTlDNnRya0cza1prUDVPOHFtNTd3TVpvb3kKOWE0Ymp5WllQZzg5QmpNTWlyeVh6a0QwOThUZnBwYlJVcUdSZU8vTkU0anl1ZWVNV0k0amdYbGlwaGtBaDU5aW5IbUp3ZXZlT3NUaQpNc1VaSDd4NytTclMwNEVGSGlqczY1NTdjWU5kYjJteGRqQ29TVTF6b3IxTTA2cnhWUHBqcXhOUUtoVEx2ZkdNOXB6Sk9VL3orb3JXCi9Ibjh6TG9QenVTUi8rM2Y5Zkt2RUZ5b1RNSDl6QWxGMlpqcVZER0FxcDNEQWswTHJCNEVUampMNERWdkdtRGc5cXpCbUZMdzFncFYKVHZwWkRvUWd0TE5lYkhESjdnWkhudmJQYzRTakZGWTFScStBajRVQVl5aFdZVkRLR1pCT1Y2Z0pJdDgxWFlxL09ROVI0YldpaDVROApwTndZVWdOSXdhcyt3eEl4cVk1emRDbGFDeENrVHBUZE5rRFhPU0JjK1d1dG0vbGRxZTVEOVFBS1pwY0R5SjhwRUFqd3ZQaUtCanRmCmJyQjZ3R2tVeld4U1l5dXpuWnJSUlZvNk1pcDhTUm9ZY25jdXAwUllQd2pxaTJIenRMQUdRUzZZSkJ4R0tiYzJWRmFtQk1LdVJqc20KN0FtRWFhbjVCS0dOekc0R1RMSjNGcWdCRGovT2VObXZORGpsVE9QNnlvWHZmUUF3OFBDOUZnL2YzZUhRMHc0QVMxdUJrMy9HNEt3WApHU3h2STBWdkFJSHRuTkJmK2k4TWZ2QnRpMjZhTkVIS2RhVEJ4OUJYaG9mQ3VPZGc4K0pWWWE2cjR4N0lzRGYzSjFSNzJrVlN6b1M4CkJTS0NSZkE4OTFkU1NGbjZaVTQySEgyeXRuQXdvQWVybUJyS1JnRnpqRDAzQW9KSUF6UElBTE14WVhFNzRVV1hON0VmT2Z1RDhBOCsKdy9qYkcyZDQ4S3NXcG5VK1E4Z0szbitMeGY0VENKZjl1d1l2dUtqUmpFWnE3NlRURFhaZWJQRHdmb3ZGYlFCM1dWZ0lGTjU0NFgxRAo4NlYrd0pXak44NytPMzBma203YnptSjBFamNOcEJ4TUVGUmlYdUFsQmU0TCtaVk9ka2gwQ1JBSllUQURiUlFTYWVTcFRGYUdIamNlCm4zaEFFalFFdXROTXlKRHQvelpFV0Z0aG5IT1p3UW5QTjVvNUFYUmUrSi85d0FUUFBjYlljZ281QjQrRDhOenNubzBabjMvL0RKTjMKQUMrNkxMc01nNUpQY2RhRkJuZDl0c05zaldCbkRvUWgzRTJ4TTlkUEFLdVFUWDZHaU1XRGtMWEFJN2lDNEh5U2pBeGh0RGxxMktoYQpVK1FFblhFTXZFeTJxNnFGazBaSTlpV0F3VFZEc2IwV1dTY3hISksrZ1pBY1NhNUlmMEZJdVJBNFp5RHpUVXlQQXFkZjRJUWZoQlQ3CklhY0IvdWFHS1o1OWxMSHROTUwwS0tMUTJCTmpaNEJwZ2ExbkFMZCtmSVlkcDVBeko4RjBDTUdjZkNiaEZXOXBZSzBRbHBqVzZtaGwKZmk2eTBBU3NIbEJSV0xjdFBsTTRKMms3NExGdnM5TUNCdjVVTWNkWlZZVFJnRElucUFpLzBBaSt5NkFKZ284U3Z0SWFvTWVtUUFndgoyaGNJTkhvQ3E2Z05CQU1LeWRZeUJvdUlzMSsrTEFPR2dFZnV0M2pnS3haYlRpVk1qcmpaSGdFbDZMUXpvQmtTbWhIanJsczZuSEttCmlYNkR6SDR0TEJFdWVYMkxuNWFYN1lBbnZqdkQycHBMZ29VVWJaOXdFVzA3aWZTdjJ4a2R6SUdjaUZJVFNOOUFUbnFqdk04QU1mR3EKcm04emhFZE1xRzBVamMwd3REYnhXcVNiQUl2YmdlVXRGRUVTOGVyL2Z1U2VEdFQ2bkQ0cGgxWjcwUVRZR1dPd0JEeHh2OFdoWnpnQwo2YWZ4RldpM0hRcWU2VlZFK1Z6YjVuVHRqRDlrS3RxUjcxeDk5ekpqd0NUQmhWaGRoeCt5Y2kzSlV4S1doU2tRQXhQMDJSa3dXSElMCk96bHp5TnZ0WjM3QU1JT2UwQ3ZyQzNBMmRlMFFzSExncDFUeWxWZU1JQ1ZQb1Q5cmtGUU9rVmI0VWFzZmhDL3JPUTJnTmloays4d3EKSUpBZHBvN0QxaW4zUU42Z1VTU0pmQjFxNmlsZXdObi9McnZkVGdHeE9qZzNqdG1QZFczeVA5K3I1aS9VaE8vbHdmS3ovbERPOEZxZQpRRTltanUvTTRvWVFWUmgxSkZVM0wrU1RqWUZ3alVrMnRqUkE3K0hQMW9ESldza2Noc3NRYnRybTlnTndiYUFvYVdBTG1BR3dhVXMvCjg5a2U0Nzg1eWlTc1ZXeWtiQ3pQeVRTeFRUZWU1T3JmOFlMWWl1UlJ0SGRpc2lhWmNUOElCTjl6SGhvdXVJaENBOVJVdU5ZRXJBaVIKZFFvZ01RRHJQUGZWNXhoSEQyVU5lKzhmQUo1M3BrRzM1ck4zTmRDeElnUGRCTmorZk1LVzQwcS9JZ0xNSE9PL0xOcFJiVkdsN0p4WApDQytEMW11SDN1SFA4L2dJUU5HMlhmdHE0VTZtTUtORHhwRjFlYUNjeE9KZHVNUnBWMHdvWDR2eDVVcGV2cUtuSTRjc1NTUVl3ZXhtCitKRm5HUWVmWlp4d2F1cFBDdTdzbHpTNDQ2UU9rMVczV21nN1JLOCtaUmJkMyswSU9QZ280eFgvdHNGd2dYUlk2VisyQTU1OWtzR1cKNitGYTltSUd0dXdnakJhejlLaC9IVDdBV0Qzc294TlB6OVlUQ08yZzN0NmhaeGpUdFFTVzZkUnB1RGllZ29lYTMzblNMcXdleHJVRApVQkVpeHJISUJKM29wMDFJQ2FGQ3VqbGJwUko5cDVEUElEcVRJSUM0QkNrTENkV1Nxd0VldmQvaTdCYzNSUlRBREd6ZVJ2akZON2I0CjdONHB0cDlOYUFZQWQ3b2NFZENNZ0FPUE1jNzZCWVB6TDJrVWlBREVuTUN6VHpMKzRyOU0wUzdJYVprQkwyUVFHMkI4RVBpbDMyOXgKeWxrVVExTUo5dnUvM3VIT3Y3WllPbzVjUG9LQWYvVzdMYmFlUU5YSmNkY3RGZy9kWWJHdzFkTkVCR29ZMUpDYW9iV3RjM21tVDRlSQpoR0I0MDZDVHNQUHlFZ1FtOXo0QjF1cTZ4eUVrbXc1a0ZJNWh2SzJUa2F1dXFJSTZZTGlaOE5BM0xkYU9jRXo4U09FQ3dIa3ZiL0Q2Ci85aml5QThaUjUveFdzQUx6bHBndWdZOCt5Qmo1ODhadlBZdEE3UkR6WHhCTmg2NXA4UGtLTU1NNGU3VGJCalV1TCtwQmFnaGh2K00KMXIvUGU1RURjYXhqMEdjdEVtZDlPUmlFVGZXQ2IrTHYrTTRGLzdWNTVpamw1TjlKazV5WDE4L2IySzdXaWlxRkM1U1pQQnR4cDJkLwpOdUk0L2RWK05XWllTeGh1QW41MHI4WDN2dDNoZ2t0YXZTZ2wybnpKRlMxT090M2dHemZQOFAxdk04YUgzTURiRWVHNDB3aVhYdFhnCnhaZTNhQWRRR1VBZ1pSakhSeG4zZjgxaXRNMm5rQTNpMUVqSHJ6a093ZmcwYzY5OUNOVWJyeGsyNGdNSWY4SDE1elJ1dUNwTVpmSXkKSGhTZmxRWUk5UmpXaXBSL1QzbHBSdG9jc21yVFo5aUpDdXBQRjFkdEZvc0JRbXdVOVJsRE1jYkJac0xYL2xlSG4zbGhnOFZOMm5iTApsYlBuN1RUNDEzdUdPUEMweGNwempHNEdiTnBLMkxhRE1CaWxIRVMrbWhqNnVlZU9Eazgvd0ZnK21XQ25pSnlnQVBiQU5OK25KUmVHCnp2WHMyV2t5YXdIYjVUdU9LOFd0TDk4SmdTU1hQNTh6bmdkaWw2L2lhUVlDc0pBTGFWc2ZtbWM5c1lsbEZBQ3BaZ0kxd2loeXVYTkYKcVNWazZnVXl2SkduV3RJR2l0a1VXTmdHUEhHWHhkZStNQVBnZC9SSXBnZmhlUE93N1hpRDA4NXBzUE84QmllY1lqQVlVUXpCaWcwawovc2FESHoxbWNjZWZkMWc4RHVBdVB3RWN2T2RFcHpLQmMxODBIeUFaQ0NXN1ZLU0ZvTW9GQ0pKRlR1VXI3elZ2bjJVSDRaa3NML28yCnRYQ3RPTmdaaGxFUmZuUUR1RUpjQnBDUWdwVFBaMnZBMWpNSVgvMGZNOXgxK3l4VnkzN25JdXp5c1ZiODY5S3NwNHpMWVIvQTBSWEcKRno4MWM1cWxEVDVFU0Yyem9KZExldGNUYmh4dlBZM2VVMXgvemdRU0NsbDJCMWlVMzVTUk9EZjVBeURlanVvZjFzcWJtbU1SQnlXeQpGSlZkUFlsdnVST1lnWUFWb3pSa21WMWFlT2trd3MxL1BPTjd2OUhGK05wbUtqakUwUEZmWmI5ZzJDSVdoSC9UcDZaNDVpR0wwV2EvCmk0aktJM0JwSm1kckd1dkt2ODdVZVlLWHlSODFNMlVxUHZLVTR1eFNmSzFOTnRGbUdvYlFLdG45QktHOFVUTHNVK3M2UGdpRWt2VHMKKzczWXl0OFJESWplUEJtZzNRejY3SCtkNE9zM3oxeFd6d3ZZYnNRV1c3R1gwQUJQUG1yeGx4K2M0TkU3R1VzN0NMTkp5ay9VdldoQgpmeHpUaHBGUWtYVDZjMTZlUWZNalRUWWxqNzU2TlQ0N2tLbkxPcXUzcWZueTRtZ1l5cGdkMFUzU1RxQmNWdzRlaG5CSThtU0R5aE5VCitpTDRkZjBHV0Q2WmNQTWZUZkhJUFIwdWU4TUFwNXhwNGpKd0hHejBrRkxzSGpaZUhGMWgzUDIxRGwvL3l3NjJFOElYdmdWbEhwWGEKeTZCdXVWbkhyUmZNNU1pTStVQ1JtelR6SEV1K01VZkcrU2xqU0VWVUlKZCswU09QTWh2bm5yY0UveXRYc3BJa1dPNmpKNTI2SkNJOQpnQ0FiSWZ4OC8zcjhzeGcwdzNZdVZOeDZKdUY3dDFrOCtzMEp6djFGZy9OK3ZzSEpweHNzTHBOSzFvVFhiTUk0OEF6am9ic3R2djNsCkRzODh5Rmc2Z1RCYUlzekdQcXFRTkVUNk9HWE1TS2hnb3FnQmdpL0NGdkplREZBandKaXJZUUhVOE5tSTdHV0VpUUF5eEdRSUdEUWUKbmhRendsUWtseVJUdWNMM0dIbkp6UmdKKzJqWjcwQ3BwUnNMSk1sSklkWE92QkF4Zkl3elRJNmJ4U3hNYWN4dURHdzYwWVZyMy9vLwpIZTc2M3gyMjd5U2NlS2JCanRNSVMxdmRqeFJPeG94RFR3RlBQOEo0K21HTDhTRjNlSFR6ODV3QU96SHpxOXBJalMrWnBEaFc2dzZrCkFpNTFIY1lmV05DMEZBK2poUFpDK2FDMTVHdzFqZk1CUWd1S055Z0ZhamtjbUUyYk9DTlFTTmRUd2tjcVUwemlySHpjRVZSRFVDK1QKb0dlUVlaSm5HbnNQa1JZYUpvNVY1anhkbVNDOFRTZTRaNnVIZ0FlKzJ1SGVMd0k4QmNqOVRDVUdtNERoSnIrM1lObjVBZDFNYUtoagowVWFSSmdaYmdoa1NmdkFBbytzc3B1T1VuMkFHMmdIdzNBOHRtcEdlOVk5OXgyTHI4UlJ6L0tHZnBnRU9QK2MydERMM0M3L0k0MmRDClRKT3QxQWJTckNnekdUU0FHRy9NZzF6eks0ZDUzZk43Z1RuaXZmNzkvRi96N2oxbjU0VlY3U3ZNSHVQQ3VKQ2RDNlpBTHNlQ2ZVZ28KOStySkh4T2xPZzIxOVlEUXh2U3dPNXBPVFdnL0lYMjRETFd1UU9TT3E5dHBXaUNTTzQ5SG15a0NnSHA0WGVPYjRxK1g0THdmMk16cgoxZG9KYlhnTndNaVBLdWVPUmQrZXdXUkR4YXhTem1LYWFvVkdFUUpXQiswRXdZRmVobHM1YzZHY0tCTFNxNEJMeDJxWXg0NnFwb2gwClVVMi9TeEVOdHdBamszN2ZSOUVVZ0VlSkh3dGJja0Z3Rkp4TFdQazRqY3Q3Q1pTMlJJMWZyTXVoZEx5TEJTTUpKdVVZa2w4TkZDUFgKWG1OeWhtcXJTWTRYZnMrcUdFRE83T2pVOUppVkJETHZVSkpmSFVQeUVlTHNaV0pyeGNrVVB6QnFvbXZqQ1V3clkya2JlZXBiTzdtYQpWa0E4YzRaWU9ZZXlqQXIvcEVZS0FQR0VSN1dNOUZuQ1AwL1oxbFlTcFlQQ2tmT2toSzJFbi91Sml1L3B2b1FXd3ZreGJKakpVamlNCndJcE1DVHY0bTA2WVNBMGdPU3Q1bU5PM2RwQVl5U0JEbUkwSnE0KzVQZnVnQUFKWHBsMWtXdHFSSENoamdNbFJZSHdnT0YwY3RRSmIKWUxDSnNiQTFNRUNzbGRkbVJTSkRPYkljR0paNVhZYmNyU1RHWkV4aW40d0tXOCtGZDB4eVdvb2NmeTA4S3h3OFNNRmxIclpXWXFFdQpLYUQ2U1paMkV6czZXaFlsbVN5bFkrRFNaUllSUklZNHJaTGtpbGJpTEVzSzA0eG5HWFNUQWNhSEdEdGZibkRaR3daeFAyQlFuZTBRCmVPNkhqRnMrUFFQSU9WVnJoeGpuN1dwdzRhNFdzeWtydjJBd0lqeitvTVh0ZnpiRGFET2wxTElFNXp5VDVNY2dUWVRUTmdUdWdNa3EKWWJiSzZNWkM1UStBd1NKaHNPQTJxQ2lOSUIwNUpNRXJreG0wajVMbW5ISnlkc05yS1ZCOWJMNkJPQzd2bjdUeENwVm85Y0lkTmxTMQo1ZmxxVXNtMTBBS1Y0V01Dajd1aFJvREhrRHNvc3VVRXdoa3ZxQy9FYnp1TzhXWDI2d1VHbUI0QmRweENPTzJjK3M3U3BnRm1xOEJvClM3cElxUy9peWMyQm5LeW1jV1ptdGdxTVZ4aWpaZUM0MHdrN1RtMncrWGhnTUhUY1cxdHhJSDN1QjR5Vkg3bzZDMXRjdUdnN2IwcjgKQVpTWTFCRnpRZWFnS3BNODA2ckNiNVB6S1k1Slh6ZFRDL1daR1cyWTNuTFdSeHNtVUNmOU0ybmI4OE1JUVVGSEFGRTJJQVlzbGJhSgp2UmJvdkh6bGpTRFdPbUZPeG5JS3VQZXdBOWgyaUJyQWRpNXVuNDRaUlA2WHVVSTYxSGRXaTUyRHlneXpudUhDTmpzRFZwOWlITGVUCmNQRWJETTQ0MzJEckRrSTdVQVl5am1mdEtPT3A3ek1lK0tiRncvc3R4b2NaUzl0ZE95dzZvOFNwTktHRVpzanp3RlRWQkJ6NXF4M0MKOG5JdXFZSFpGMjVMcjVqajROVkJTY2w0cWFvQ0ZxVjk5V0NLZm4zRkRFanZ0RndZRWM0YXBhMVlIcjNNd2RVVDAwT3VDTVk5QVE3bAowdWNyRWxwOWErWmdaM2JXVm9DMkFTNTdZNFB6ZnE3QjBtWXQ5RnBxZW5FVDRmUVhFRTUvZ2NHVGwxdnN2Nm5Ebzk5Z2JEb3grcWhxCkpzV0lRRDRXM1VqYTR1ZFFMME9IdjV3dGhMOUJXVlEwZ2ZjQmN1RW0yMEpwZ0lsZkZkc2tENjBGSXIxQkVSNnI4aWNxVVVHTytNSTUKU3QybXEwQTM4SkpKbXFodVFhV1RKV1lKV2VKbXlIVGtHV0RIVHNLcjM5eml4TlBTR1VZZzI3UkNaWi9NcnN4SnB4bTg3dGNON2pxbgp3eDAzZGxqWWluaHNMVnluRnhWQ3pUUkp3ZWQyWDBZT2NicFJMQng5ekVxRUVUNjN4ZUNGT2VEZ3VRcnV4MmdFdFRyQ2xFVFZ5dW9VCk1VU2tFSTlDUmlGdFJLcGhROG5HTm1ORVRSRXdHcDB4NmN3SXhsaWdHVG5obi80U3dtdmZNc0RTNXBUeTdUdklJbDloczJxSUNFd0QKWFBpTERUWnRJL3pOcDJmdUxzTUFBaDlHQTNYMUxRVUk4Vm1QSjQwcitsVytnYjRkUmVHbHJvaUpmWERQdXdRQ3IxT1c2KzJsYzRRTQpteXhPWEk5ZmIycXJCWmlONFVVZ29SeVBQbXJsYlA3YVFjYU9uVW40d2IrbzNWeGlPNzFKUllHU3hKa0dCczYrME9DeVgyMndla0FJClZmR0lvdE5VeUNUblFmekMxY2syQUduVkorWEJ1dEhpaWhndFFBZVhaS096UzVlNWZOY01EZ055SEdESWNxVDdoZGNBYzRTYUE0czMKQWdJQlZzWG9XRjg0RnNabEdvbUFWNys1amNMUE40Y3lJOGI1cHRHYlZQTGR6WUMyNStlK3ZNR0ZyemRZK1JHamFZWC9JL2pXdTlragoreTZ1V0ViZDZzZWpBRTZaVERVbUVxWTU2eENoY2RHaDc2Q3kwWU9yR3NGVG1VNnl5dk9EbWZNbnRjbzhlVHFoOGNiTHMrNGpweTA2CkpVNVFSNTVpWEhxVjI0VWNOcVhrL1ljZFM5TXg4UFRqRm8vY1ovR0RCeXdPK2xQSmxPOXJoQWJHUzY1c2NQeVpCdVBEK1oxRnBhU3IKODYxUUNib055VjhLVTY4R0xsWUhRNkFUTlluMDVHQUlMeVJMVitvTnNibFBrSldYem1iTStQVnM4ZEtVQUtZaGhtRWlRK3VXQjF3cwpUZ1krOGVIN2d2eFI2MFRIZEpWeHdzOFNMcmkwaVF4WHcvSTdsMlpUNEZ1M3pYRC8xeXdPL2dEb0ppNXpPVm9HVGpuZjRDV3ZiSER5CkdhYmdFeGxuSmhhV0NCZSt1c0V0bjNEK1FDd0g0WDlKNEFRR3M3YmovUW1meE9lNGZUOUxkSVUrMVhLd2NvZ0VNWTZTcEdieTJ5clUKQUx5azlOSWxpKzk4c3NtSGlWMlhycVB0cHNuTHpwa2YrdWhtVEdnQWRPeHVDOC9VYmY3cXBuNTc5MHdBSU1SVWdpbk53TjFTK25PLwowbUJocVR4YUZrekUwUlhHVForYzRzSGJHVXZIdTFDeEdibEJkeDNqd1Rzc0h2ZzdpMTIvM3VLRmx6VUZRTVBITTg0bGJEK2RjUGhwCmRsbkR5RnNJNTF0ZTNGbHVPNit0L2Nzd1d6OUxHUWNabnB1cWFvQzBNZUZ6dW5OT1VsQjFWdVk1aGxKdk02TmJCYnFqY08rSG9JNSsKMVY1MkRlaldBQjREM2VHS09sUWNBdXdxWU1lQW5maC9ZN2ZoeEU1Y0czWUMyQ2xqdHNvWUxnSm52ckIwODRNUVpoUGdwazlPOGRBZApGdHQzcG5Sdk5DRUdXTmdLTEIxUCtOS0haL2pPTnp2RjAxQ0dHUmd0RVU0OXo5MThJcjE4YlE2Y2xOTHZIU0NaU2s0VE1zb0xtY3ppCmQvTHF1alI1dlFZbzd6c3RFaEdNdUs3TzZRSGkrVCtVS3FvbWpLQVJ5QURkbUhqVGlhRGQxdzdWM3Y2RkpjOG8wVWI0ZSt2eEJ2L2gKRDBmeG1lMkFwVGszakp4NG1zRmJQenFxMDBQNlQyWm5nbmFjN0FCUXpINEM3cjVqaHUvK2pjV09jd2pUMVpSd2txdHIzZFFmYlQ4Wgp1TzEvZGpqbExJUGxyZld6Z3FlY1RmZ0hIMTdDQW13cW1WV3BGaUN2M2FXQ1BxazJsUllQUGtEYzBwZnlMRzFBVnI1eXB4c0luejNxCnBKMUtRSEExWlYyZ2FoWUFwOHJiRWVIVXM1dDE3WGdZMUdDSWFGdm5GdmVkTGl3UlRqNWp2Y2JudjBKQ1o3SUczUDIzRnB0T2NydVYKYWl0NDRiMmJ1V05yaDU5a1BIaVh4WXQvb2RHK2dLKzJlYnZCYUxtTFY4WGw3VGloaWQ4bkVMTzN1SDR2OXdrUXZQeXdRWmdweUN6awpDUWdoRE15OVpERjRGVklvZForeVRsNGx4YTNJc213dE9vaHRkRDYvajU0NHVpWVFtNVpiNTVZWGlaaGp1UkNpMWg4QUhIekc0dGxICkdjMUE3d09zalJQa0xzRXlBK0NIRDdzR1ZBN0JDMmhwV2Z5dUFjcDJsR2ZQNHBCSUZwMGgrMXRHYzlZeVdaRU9UL2tHWjBiaXVZRDQKSG1KOWhZVE1yc1MvazZOUWpUY0IvUWZydmhoUUJ5VnI5d01YY2pWcDcvKzY1U21WM2VpL0twQUFIRG5JbVBtWm4rY2ZpbmpkLzZNRwpPSEtBNHdKWG5sWnZSK1J2Qnl2YlVmeUtndVhBOVZTZTF3RUJzclpVb1hBeVNHUks1Qzl2Q2ZrcTRVY25oTFdRaXhNM05lM0JHUVBYCm1mSFYxNDlUNXlkOE5ZUGdsYWZPYXc1d1dLQk42d0ZVWG44YjNpM0g0KzY1TUxrR0FnWlNwcEFML3FvSkoyV1hhUlgyOVJuZUJBalEKSmdKN3pJSG12OHc2NlFwOUlQaEhrZDFQWnRaL3JOZVc0d2dMV3doMkpnU0FVbER4Y20xeUVjYjJVOUtCMTF4YmpZOEMwMVc0RTVycgpxUExFMXhRZGhFTEY3dzhpazEzNEx2OEM1RE9CbkZZSVVsdGNyU1JWWE8wSVV6cmJwaSthVUlNUm41dTI5T0ovbWw0eEF0bEJlUDRGCmhNbGg5b2RDdEJldVpwalBJZGdwNDR6elVrSkk4UkRBa1JYRzJrRkcwNVMvSDVqN0ZxcVB5Ri85aTJHb3lVcldFZklMYXFxTll1TVUKR2ppMFZrNzljT2wxYW84MTgwNUZYVm1IL1E5RHJSNWszUFNaTWRxQlhwNVZBb2ovRTU4ckh5ajdRMnpmVkkzS2Nxb3RkbUhneTEvYgpZbkZUaW96Q2hoUmpnSmU5cXNXOVg1ekFibWVZaHNRVnI0S3AxcDFUT1BoOXh0bVhHWnorc3k2cldGdEZmUHB4eG5RVkdHMkZTMVFGClFrQkZXQmNGS1ZkaUFiMnpHRUpPUXBZNVgyV0UxOGJqVVVocUxUUWFtQ2VGMzl1Z0VqaHJsWmNNWktyZnVBMmRYLzZqbVJ1OGdUdnMKQVFERzVSWGlXcnNYUkJpVXp1aGxuNG5xejFGdkozeG5oc0NSN3dLbm5HVnc5b1dOUy92NmRZQ2d3cDkvbHNGcjN0SGk4KytkWWV0Two5eE4xM0FVaE9acE42KzRyT3U0MHdoVzdCK3BrVXVCVkFNTmo5L3FESldIM2s3OTNubFBFcmJkZkNCNkg2Mkg3WnFrUW41S1RraDFUCjdiYndiT1prd3V0ck1CWlR0S1NyVDRCc3p4cWMwSGU4a0ZJK1h1UTExZTNkQ0dVU0FWR0lvVWNoMkFCaTk3R3NJNWtRM3BzV0dHNEcKN3Z2N0RtZGYyTVJsM0R4MmY4a1ZMVWFMaEZzL1BjUEJ4eGp0b2p1d0FuYlgxYklGenJyTVlOZFZBMnpkUWNXVk5hSE5weCszK1A2MwpHSU5ONlFiMHVGVk96SHdweU9CYkVBT1d3dDNBWE96SHlBV3ZKcW1VSFhHNUdKUm1yK3N4N0cxSFVCdEl4T1FiRXdKK1pNWlpxaU5KClNhZ3pQUUlCZ0hTVnVwdFJlbmJWZjNLT0tZRkJ2Z2ZyS1A0bThYMENFSWlBam9EQkFuRGZMUll2ZTVWTk40NDNxV3dZODNrdmIzRHEKMlFiZi9ZY09UM3pQNHVnQmx4YmVkaUpoNXdVR1o1N3ZEaXIwQ1I4QTdyNjl3K29CeHVhVENYYWE4dndxYlN6K2lKaW9tZHlRbVBPSApFZVNHVURWSlpkdStEZldERVJGeHdwQ29YLzNRWDJtMXBQNzJpejhrZmpFajducWxPSkJZeDFIRW5BMDZmbER2QWtBYTVFVWlUWE94CmZNbk1HdGo1SmJNcDQ2dC9QY08vK2UyaFA4eXBjeFdBZTdaNU8rRmx1MXBnbDB2L21xWWk3TXF2bjVnR2VPSmhpN3UvWkxHMHcya04KU1FPSjVUd2w5R3p5SlhBTFhucXcxN0tDT2FPQ25Pcy94aGE5UjUzdGd5QkdEbFI3ckpRaUZmV3V3NVhTMjJVS0lWUVJ0a1JQV1B3QQpFNGRHdGZjczZVbzBpV2VjUFBnOFR1Nm03akRxdlRkYi9QMlhab2tkV2R2eXVob2cvWUtKZkpZelBtd05XejNDdVBVenp1TXpqZHR3Cm91Z1BHem95cjcySXBpVC9vMmlFWlBOUUVwVC8wTGh6ZkJtU01ja1JERTZndXVDSnhkMjJHVEdwVVM0d2x3Wkl2WU5ReUZUdnBNTksKaEpESjdUWXN5alBtdnRLNEVoSmp5R3NkQ0xhY0JuenBUNmE0YjMrbklnRUZBa3IzRGdSZXpOczJadndHa2k5K2VvcW52c2NZYlhIMwpHa0JvelJEVHA3OXovbWxtMTVKcklieGo4YjI3NTBETEpYeG5DbFNvaXVtQnl2SUp0UFhGbjBWY0t3aUxyQmRVRmttaStGbm1FOEpWCjUwcHRjaDhJMUF6UE5VSEd3Tml0WHhQWWRDTGhjKytmNGx1M3A5dkx3bnFGUm9LT0puTEJBMzdtSDJaOC9oTlRQUGgxaTAzSEk1MG8KaW5SVE5oRkM1akVqTVp0OFdnTm9NSVFKTEQzS25BLzZkd09sYXM2WUJibW1IQjJGc3VOcXdvZDFneG9ZcEVlUXRaRWpXNExKenh4UwpnTXhBa0F1NkRnSzUwNXpqbmNURExjQmZ2MitLVy81OGl0WERIUGY5QlZVZmxyQWx5QUpJd241Qkl1Q3g3MXI4eFFjbWVQanZMWlpQCklMMm1FT2xpeVlMSTh5cGc4ekhXeHBmVkQ3b3VCenk5KzVVcjhYUkI3azBEWmJnVVltMzNkL2FidDNrOTRYSEhHRjFRb0grMXErYmgKbHpUVjF2MkROMThyWDJ0UHR4SGlKdmhJUTlEWEVKb0dPUGdJNDZRTENKZThvY1U1RnpaWVhKN2pXWXJYMDA5WWZQdTJEdi92Y3gzTQpDRmpjU25IVGFSbU56T056WFJZYjRwZnNJMjhQQUwzcmxTczhsMmxGeHlRRXdkVkdxK0NKM3hQVWI1MVZoTmMzMkg2QVVkWkhuUmtiCkF3T0NkeHlqNFhZQldEc0lUQTR5VGppWGNQYkZEVTQvMTJETGNZU2x6WVRoZ3RNR2EwZUFsWU9NWjM5bzhkQmRGby9leVJpdk1KWk8KY0Nudm12Qjd3WkJDWXhVdEZmeUl3dDBvM3pKNXZldktsYmkwcjRDbGhjNUVMTGFrQllhbm1henE5QWtxQ2x2TWVnR2k5WVNsQmxvdApsMjQ2cDJPcHArZ3NOUnJCMzA1Q3hPT2pUSk5EREhTRXhSM3VwdFBCZ3ZOOXAwZmNoZGF6TlhkMXpXaHpXTzdsZER0NHRjOU1lUEM3ClFLcVRROTRPSWs1WVYwQlE1NmZPbEtaTm9RSk44dVdtZ2Q3c0VUWXBSa1FKMjlPN3N3amhuUVV4eWU2Rmo3VzFBNVgwQ08xUTFnZTUKQ3RVN2lLU0RHUlJQc01HK3ZNeVBoNDJ3OHZjT3VobkF4RFJZQUlhYi9NKyt6WUMxUTNBSFBmeXU1b1hqM0JKdzJIWnVwNVFHSVhpWQpCZ21kMzZmUWN6WnVYMENuNlVXaU0vQ0c2bnhMWDhUR3dBQ01kTXFDVXk0aUpNVkpHVlpBbEJGT0ovTE5pam1ZZEQzcFdDWlBTbTVJCktVTE5TcWhZYlR0M2FMTnl2WTZoQ0w5U2VKYSt0eGJvcHV5MmhiSExBYlFMUUROa2x6anEzUGQyNXAxRXdiamNHYXZSSVB0aVJVTkEKdTBSeWhVZVZxQ0Y4SWRzTHZEZWhVVmFGTXdJeXI5cTFGenhNemhpdGQ2LzJ4ZVo1a2lmSmp1ckpIUlZKYUJBa29UcWRxa0RJUUI5WQorcEpiN3BGbnNOb2NFeHBLcm1LNEFWeEZCQVZnS2ZQb2FWMGdzbTVBUlVQWllSZldIWlo4ejVlckE5T0kzWDZBc1FjQlMwSTRHMFJzCnFJWTJJWVU0bzNNbVZHYzAxd2dqQmNxc1g4NW8wcUVqQytHejZsZk5zZ29JNHV5TWdNKzBramMrVlMzVTA2WU1YM05OTXJkOEFWWVMKZll2eHdSdUNiSnp6YVlHelpXVEF3SnBoNWdQRzNiTEVHbm1pc1d5UUttTVkvMUhrWUVDcDJyYkVzbTVsQTRNU2VJSjdBVGlwMnZzRQpBRUFtVmdxMTI4T3NRdU9vNzNxRW4ybWh1Z29QN3hJRTJnek16MVdrN0tCa09ndCtCdzNGWE5LZTUxVVlZS0lHekh6QUFQUTRZWkFtCmJVMWRRQXNpVnpWQnNvNVFLc29WVE1MR0JwK25SR1Z0N3FFenFmeE00RXp1bHM1ZTg1SFRLUG1kVGpUM2dRQjl0UFNDb0RRRGtqMDEKYzVER25XSmVGcTUxK3VXd09nakVCT1BHRUFCNjBqRDRnZFkwZ0VVNms3TU9DSHBublg5UXFPdnNWYVF2YXdLdC9LMEUyc2RnVG1YeQpYYlE1N2JWMmlqSnlrRDdrNEVxZjg0QlYwc3BGWjRXL3hEVTZra2xKVEdNZ1JZSUpHQlVRQk9BUlVUZG9BREE5WU1EMEhTVUVxWDV6CnBsYkFVQkx2SFI2bHZvUzZxakVrbnprSXlIYnRwVVVvTHZxdkFpY1hwbWM2aDVpUlVaMVorVmlFY2hPQVFnbUNxaTlUMXk3S1BNWG4KV3RNVkRuSUZHSnhOdEZMTHlvNUxNMEFFV0xiM0dSRHY3OXhCaC9qcmR5eGFWSE1vNzZReXhRTzZFMmdvQ1Q5RHB3U1dqUDNEaUJRegpBK055NFNMdlg1ZEh1SjFUL0VSTW9XR3k5dWJhWTBGdFhSTm9qVlBYTW9HM21aK1U5YU0wU3daMlBkN2tkK2syZEZLSFk1OW9wak9BCkxQYWJyaGw4Y3pwYldUSFVOdXd2N1VqMktkbXJtamxnUWFpZUtTbUVnaVNtMUh3RldCVUlNazdtdkZUcWw0RjRiMEFrblZYN3lHWncKTHBNcWZYTDJ4T1hzcENJVU1NVTQrN1NMMWdRSlREa3Y5SU9NbnF5Tk5HdXAwQ0tGNDJ6Uk5hWnQxaWFUd3hiMlR2T1JMeTgrQXRDZApBN01BTUhmU3d5OTY3ekVISmZHTXFpMlNzem9EVHE3R3RRY2N3Q1FZejdvZFhhbWNuVUVyUllBcUxsYktjeWtJYmZZb0ZwUWFnRmo4CjJIT21CWFZ6OHNTdW5rQzUrU2lBbUdzb0Q4Qjh4MGR0d29EUWpRWUV5N1QvTGU5ZGZOZ3ZCL1BuUFZIcGJnSldBdUw4YWhnbFBDYjkKTlFjYkpSbVVFRnJOSitTek9SOThJS3Z5TFBicHM3aEtUZVpnU2NOVGdwODNheVd3VlU1QzJYTDMwTUttSDN1T3RIbkRvY2JKR1JHawo2RktDcklCQWFieE1mUVkxU0hJVFZoQkYzSExKWHdEQ2ZvQVdmN1UyUFh5VUtQejBvbERaOEJCRG1JMmMweWUrejBlZ2hab0FrUWt6Cisxc3hYblVXRWlJY3UrM3pkaVdQcGFtU0g2UzZMalZHSHdpa1VITWhjdEYzTHhCak9Zb1Bjc2V3MEpZa3VuS2NwRXIzc1M4YlZoWVMKTDIxajJzR1IxY2xxWS9FNUFEQU1wZy9mdXVVK0J0L1VtZ1VBWktVelU4NUduY1FwWnEwUVlJd0s0c3RmZHFDaWhMcmdGWGdnbVJLWQpuQ09rRG9LYUU1YkFrSzA3RlBVWWZXRFFmZnJjT291SlU5RXFvVm10VEZOZVBzemU0cWlYQkVkdW52Sm5nWVpnbnFUSkJPelEzVzc2CmhUZTliM1F2TTVPNTlnSU1BTUNDOTAyN05UQ2pEY2ZiQkpWSTZsdXIwRnpvaFo4QXVhOHdVVm1FZEpsNnkwT2MwdTZsV2FKbWR3OEkKOUhzb2tGS3M2ZElvMlc4V2RSU3pWL1lsTllvNHRsVXpMZG0vUEdNSzBiZWFSQm42dEptUmRPY1JGQWVXRDhZVEJwZy9DZ0EzWG90QgpXcVVBOFc5ZGZ2QkxJN1BsVlZPN01pT2lWaTdkeHJWa1Z4UmhYVFVjNEppM09VSCtyWFlHOVczZzZLMG55NGUxMFBBOTlmWlphek9zCnBhdE5MdUJZc0NqZnR4R2pvSlBpbFN0NlkwZFAvYmtiUXZLOUFKaS9ueUF2UjNLOUdMUEYwYkJkbTR4dmZ1djdGMTRiZml2S0FNUjcKZDduZnlUYmNYVHV6cTJDbXhzcHIvWVRqb2xWWWxoL1AwY2c5ejlaUnZWVTFpd3psU0RNdUZlanhLekw3NnlkRVhFUkovVk0yTzdtcwozMGRmR2grbG1aZmVhN21GeEk4K3JjVkZmUjJncGV2eUJBc0VUNU1EVG94bU5nTXNtV3NBWU4vVisxc0NzUUdBdmJmU2JQZHVidjc0CnR1TytZdTNzWTR1RFpRSXdRYmJETzZySytNNlZnU3FiMHc4Q1VSYlFUSkdncXpsVDJwRVRmZnVPYTg1VzFZU0l6bFN1UDlwaFVnSW8KekVFVmNOblc3Z3dFK2IyRnlOdjBtZFRTSDZtVXp3UlVNem4rNnYveHBzVWhUV2Jqai83Rys0WmZ1MkUzTjFmdnUzZ0tpSU1oRjl6bwo2ZzJZLytEbzVOQWpyVmtjZ1htaVhFL2hDeWpocXFtcE0yMEZha3N3c014ZzVVNVNZZjl6d2FwbFVsSkNDL1VvYnlyWE5tSnN5WWxDCkVxUkE2VVkxWFhYcDJMZk5GVnJVcEZBVFM0S0pDeDdWTllPZ2dYa3lhb2VqbGRYSlE1UFYwWHNBNEo0TFpBbngybk1SRC9idHArbHYKWDc2eWk3aTV4U1VHYlVlZ1J1Ny9jN1kvMVNOaGZOYmI1RmpzUDFSMld0dGZ5dHJKdjlQMWszOFNyNmJPOS9oUlAwMkpOcXJUbHIvMworUnJadVB2Mk94cFJweGhQb0R1T1FiWk5WVCtyMk96cVBuVmtxREhVWXNhVFYxNzl3Y1ZicnQvRGc2djMwVFNRcWM2eDdOdFAwejBYCjhlRERmN2Y1Vm92cHU0Yk5wcUMyVXRRbFo2dndXQlA0dUp3cC9uL0ZESlJnWmQxMjdBTjZOdWV2OUgxK2VFWG42NHUrNUFQNVdhaUUKWkZZcTd6VXpWNW1GK1E5bWw0bVpyRzQwTGZtQ0Urbm1lM2dsTkFvemdNWGhFSmFuNzZvSnZ3Q0FBd0ZtZThIbUk3ZHQvZEI0dHZLQgp4WGF6dTVkVGFzTk01UW5WNUk3M1Nmc29tVjlUNTVtZEw1eEVWb01xL2luMVhhaGRxZnhGKzFVQVNScUVXU2xVZXVrWEZZSkYvbmRZCnA5ZW1oQUhLaEtZd1NJcFhFb0RPM1BVQjBCOE83cFlYUjgzaHRmRUhmK09EQ3gvYXU1Zk5ubjJZSVh2VkRvZEdzajl5KzViZlg1MnUKZkhLaDNkeXkrd0cxTHNYTk9SYzg1MFNXSjJJbVozcU5TWUtUQ2ZHc0JLUmttYzFxRmtoUzUreVlVOHBXZ2pZRGtBWUJDN0RvL0llcwpuNE9xOUU4RW9HTXNuMm5KU3NaUEFyTXZwNkdkY1VWcnh3eTdlV0hVcmh5ZGZQSnRIMXI0dlFURDh0ZXR5NlVvLzlxOW01c2JiNlFPCkFIN3JGUWMvTUdxM3ZIdmFIUWFESjBRMExPeVRza0dsM1pzWHk5YnRhWXJ6WTl5ZjVRMWkrY0pPNnIvWE8zY3d6OWJIK3VxK0Flck4KZGNpOStqVS9xWGFBQlJBK2dSaFRNVDVmM2tEY28rRDU3V21jQURSY0dnMnhPaDUvOEczL3pRbi9odDNjWE9WbHVXRUFGQ0M0OU9BNwpqUmxjMTVvUlpueDBEUEFvVDhib2dYS2tmQ01nNkJWSWNEckxwQWhuZDBaVVR2MGtFMUJMV0swSGd1SjdBZTU1U2FacXU3R05pcE9aCkM3cVdMT3FoTVJ5MElkQjRPQmlOT3RzQmR2YXVxLzk0NFVQckNYOWRBQURBWHZoY0FjaSsvYktWS3czNEV3dnQ1alBYWmlzZ29obUkKR3lIM3lzQ3BsOW5ySGllTGcwdU1FemVEUU42ZVBkOHJGaDUxUEZXek1SQ29rMHh6WnZFeGFSWXhRZUlKa1B3MGt3QkZBUkEvSG5MMwozbmNBdDF1V0ZyQ3l1dmFJUWZ2bTMvenc0TmE5ZTczYzl0TGMrOVRYQllCN01lMjVDTzIrL1RSOSs2NGZMWnZwNlAwTmpkN1dtQkdtCmRnVUFUVUhzcmtUMEZ3ZUwxR2hpZ3BmRGh0SytOY1o1MVN1WkRYOXNMZFFyRDR4SzFaM2FrVnBsbmhicEYyb095QTJDSWZCRXpYSjUKeURaY2gxTnBsL3lsT3dRTElndndZSEc0Z0duWHdmTHNZK1BCK0EvZWZkM1daNi9mdzRNOSt6Q3IyZndmRXdEdUZmSUVBUENPeXc3KwpQQVBYTm1iMG1yWVpZV2JYWUhrNkpTSUxvQ1YzNWtCZmNVL2VoY3pYQXVab2dpUjBqZzl6Um05czdZRUZEVUlRb2NGMVFGQUFWcHdrClRoZGFaV1BJMnE3N04wSTdDVE5IWHVBTURqZUNXUkE2SXFLbWFRZWpRWVBKcklPMTAvOXJHZGYrem45Zi9Bb0ExRUs5ZnpRQUFNNGsKM0wwYkZIMkR5dzY4bW1EZVJrU3ZXeGdzTHpMZ3dURHJDSDZuc1VGRDhlZElNK3V3cnMzTUJjYmFDVnNQQktUcmFnMXdiQ0FJend2ZgpZaDNRckFzcURVZ0d4VkNxQXdHRzBEUm0wQXdIRFl3QmpvN0hSd200Q2NEMTcvam93azJBcy9YM1hBQmVUK1gveEFBSXJ6MFhmV093CmIvOUZzNkJqMzNuRnlubWQ1VjhHMGVzQXZtallMaSszeHMyN3puWmdUTUhjeGN4SFlkODJCQUx2RXdSYm5OdjFPZURwZDdBeWM1RFQKTmxlb3dSWlgvSnc1SUtocnF0Q1dRV05hTkUyRGdiOWd3akt3TmgydkVQaE9JdjQ4Y2ZOWDc5ZzN1cytoaGVuV3ZXaXUzRXRGalA5UApDZ0QzWXRwN0FRWjc3OFlVd3Q2OGM5ZnFUc3ZUbDRMNUlvRE9KVEpuQVh3eWlMWVJlRUVKSkFwQ015NW5XT25SYzZ3czA2cEYvYXBBCnNtUGtVaWdWNEVRYWNqQ0lVNys1cnhQZG5RMDdodEUzR0JQd0hJaWVJTFlQZ09nN2hzeit4dHB2L3ZZbkZoK0puR2VtYTYvQzRKb2IKTWQySXJlOTcvWDhwcWdRRThkN2IrUUFBQUNWMFJWaDBaR0YwWlRwamNtVmhkR1VBTWpBeU1pMHhNUzB5TUZRd01Ub3hORG95TVNzdwpNVG93TUExb1NUZ0FBQUFsZEVWWWRHUmhkR1U2Ylc5a2FXWjVBREl3TWpJdE1URXRNakJVTURFNk1UUTZNakVyTURFNk1EQjhOZkdFCkFBQUFBRWxGVGtTdVFtQ0MiIC8+Cjwvc3ZnPgo=',
      },
      {
        name: 'Rabet',
        type: WalletType.RABET,
        isAvailable: isRabetAvailable(),
        icon: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxMjhweCIgaGVpZ2h0PSIxMjhweCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDEyOCAxMjgiIHhtbDpzcGFjZT0icHJlc2VydmUiPiAgPGltYWdlIGlkPSJpbWFnZTAiIHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiB4PSIwIiB5PSIwIgogICAgaHJlZj0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFJQUFBQUNBQ0FZQUFBRERQbUhMQUFBQUJHZEJUVUVBQUxHUEMveGhCUUFBQUNCalNGSk4KQUFCNkpnQUFnSVFBQVBvQUFBQ0E2QUFBZFRBQUFPcGdBQUE2bUFBQUYzQ2N1bEU4QUFBQUJtSkxSMFFBL3dEL0FQK2d2YWVUQUFBUgo0VWxFUVZSNDJ1MmRlM1FVVlo3SHY3L3FoTHg1dnhLamdwb0JFa2lFTkpBSE1DZExTQVJDd0tnRWQyRjJkc2VabzJmWDJlUEtpRFB5CmlJb2dJcWpydkhSY1ozUjNkV2FIZFJuSE15YmRIWHJ3a0U2Q1dSR1krSW9DTTRnWVhVTWdKQ1Q5cU4vK0VYRkRUTHFycW05VjNWWSsKNStTUGRGZmQrLzFWZit0M3ErNjlkWXNnQWN4TXJucmZuV0RjQXdCRXRMMnN0T2duZHVzU2hkdmRPQ09FME5NQTVRRjRoVWJFYnlqLwo1cnlUZHVzQ0FMSmJBQUM0WEFkdVU0RmZYQ0xNNGFnc1gxejRlN3UxUll2UDUwdnFPcSsyTWpEMWk5aUlXc3FYRk0rMVd4c0FLSFlMCkFBQ1ZhTVdYUGd5cHUxdGFXdUx0MWhZdDUzdXdmdUNQRHdETTdQUjRtaWJaclEyUXhBREVmUFhnenhoODNXZG5ldi9SYm0zUjRQVWUKbk15czNqUFVkMEZTcjlaYm5obElZUUFtWERIazU0eE50VDdmV0x2MUdjVWZERHpFak5TaHZsTXdkTXhXWTdzQjJ0cmFFc0FZUDh6WApZK2c4YjdGYm94RThucVpjWm54N3VPOVY5YklCQUFESFB1cklDTHNCNFE2UHAva2JkdXZVUzVDRHV3QWU5dmdxeEpsMmF3UWtNSUFqCkVBaDdJSmc1UHNqQm5YYnIxRU5kZmVNS01FckR4blU1QS9RVEFrVStFTXlWdFo0REpYWnIxWUxYeTNFSXFZOUUzSkF1R3dDQTlqT0IKVk5yTnpMYnJqWVEvNkx1RHdkTWp4ZzIrYkFBQUlOS1FBUUF3K0hxWHAvSGJkdXNOaDl2ZE1vckJtelhGelpjekFBQ0FvV28rRU16cQoxcnJEaDFQczFqd2NJZTdiSE9hT1psRGNTUEY2RDQyMlc3UHRCaUFtUFZmRDZkemV0Y0Z1elVQaDhieCtEUUJkSFZmTUFkdXpnTzBHCllOMFhRM1MzMTlza3hTM1VRSUxjdHhQZ0VmcjIrWm9iZ0prSmpIU2RleVgzQlVQYjdOUTlHTGU3YVFFWVZYcjNrNkV6eUZZRHVIeSsKQ1hyUEdnQWdZSzNMZGNCcHAvYUxNRE9GRU5wdFpGK1NvRHZZVmdNb1BkcnVBQWJEektRU0dUcm9vbkc3Zld2QmJHeG9sKzN2RGJUVgpBR28wblNITUMydmREVGZacWQvbjh5VXgrQ0hEQldpOEJUWVRXdzFBcWhydEdiQ2p0YlZWZHhNaWlzL0grcTgwdWo5LzNac0FqdllNCllMNzI1S25PTyszUUhtNnNYeXN5ZEFiWm13RUVuQUZFdk5IamFSNW50Zlp3WS8wNkRzQUVPek1ZWVBjMUFCRDFaQTltakZZNVVHT2wKN2toai9kcTFNNTArM1RYR1N1MkRzVHNEakJSUkRnTzMxM2w5RVFkZ1JCSGswTzV3WS8yNnluS29hVmJwSGdxN2V3S0ZCTStNT0FUWgpramtEL1dQOXZGaFVlZkVxQ1RrSmpHTHZSU0JZV1BETVhPRnkrWVQ5TUVPaGVheGZCNm9xSmdzYXhlNE1JRFI0bFZSVDV3eG9IZXZYCnBWa1Jrd1dOWXZjMVFIUlgwWU5oNUxyZERYOXZodGJQaDI2RlQxQmxsYisrQmdDb1QzU0pLdUZCcjdkVnJMRUE5QVY2TmpHekNiZWIKTFB3WTZNRmVBekNmRTE4bUp2dURuZmVLTExLK3Z1RmE2QnpyMXdxUlEvd3gwSUhkMXdCbUJmL1BkZnNQR3U2aUhVeEE1VWVNakZwcQpRakhoSk5CVHZaMlZNNUVwd1ROekV2eUI3U0xLTWpyV3J4V0hTbDFtbGEyRnIyb0dBSUMvcnEzM3pZdW1BR1ltRmFISHpEd0FEb2VwCnh5QWlkdDhGZEpwVk5qTVRoZFNvNWd5NDNiNjF6R3p5eEpNMDA0NkJGdXpPQU8rYldUZ0R4UzZYN3hZaisvcDh2aVFWTUhmcUdlSGoKa3BLYzg2YldFUUY3WndSQmVjdnNPaGpxanJhMnRnUzkrNTN2d1hyQTNCazd4R1I2L0pHd2R6UXdUclhBQUpoNjdFVDc5L1hzSTJLcwpYd3RFL1BVMlFPYkUwZThCQ0psZkU5M245YlpvZW1BREVEVFdyd0VtZXR2ODJNTmpxd0Z5Y25MOElETDFPZ0FBbUhtVVA5aDN2NVp0CmEvYzE1NGtZNjllQ3d1WTNnUkUxMkMyQUdFZXNxWW0vNTNZM3pvaTRXU2o4Yy8zQzRpWmlJdVdvTmJFUGorMEdnRUllSzZwaFJwd0sKOWRGdzI0Z2U2dytyQnpoVVdqci9NeXZxQ29mdEJvZ2pyck9xTG1aZVZ1ZHBXakxVZDE0dng3R3FXcllRQmJGMWNZZkRkZ01zWGx6OApaeEM5YTFtRkhOckZ6STdCSC91RHZqdkFQTTBxR1FvNVhKYkZIRTZIM1FJQWdBRExEZ1l6ejNMVk4zNW40R2RtamZVUEd5L2gvSmd4CjhRMVcxUmNPS1F5Z0FOYW1RK1lIRGh3NDhNVkVEUFBHK29lckgxNm4weG13Tk9aaGtNSUFLU20wajRCdXErcGo1a25kUGZnaFlPNVkKLzdEMUUwbXpCSzRVQmlncUtyb0FvbGNzclpSd1YzMTl3OVdtanZVUFZTMGhtQkNYOE4rV3hob0dLUXpRTDBUNVR5dnJZMFppNTluegpENXM1MWo5MHhmQ1dsRGovMTlJNnd5Q05BVkpTK0ZVaVdEWXlSa1JjVTdOaDFxRkRMWCt5TWs0Q0xEVjZKS1F4UUZGUjBRV3dkYzNBCmllTWZOQnc5OG1iTzFnZnVzeXhHSWdRVkpWNmE5QTlJWkFBQUlBZFpkSFpReitaTjkxd0xBTjNkM1ROZjJ2TWJueFcxTXFoZWh0Ni8KZ1VobGdIZ2wzWkptb09IQUg1dmIyei8rWW0yaVo1NzU2VlYrdjkvMDZkbEU5RnV6NjlDTFZBWW9LWm5heXpEM0ZrbGxidCs1YytzbApjd1ZWTlpUNUwwL3NiRFN6WGlJRU9SbFNwWDlBTWdNQUFKRzV6Y0FMLy83c2U3MFhMbnhwc1VtUCs5VTVuV2ZPZkdwaTFaNGJpb282CnpJek5DTklaWUlRanZSWmt6bFRwdnQ2K2QxLzRqK2VLaC9sNlpNMldEU1pPMEZDa1MvK0FoQVlvS1puYVMyQlRtb0Vkajl6ZnJhcnEKc0RHLzg4NWJ4VzF0N3dpZm9FSkVBVTdCWGpOaWloYnBETkF2U253ejhNa243YzIrQTYvTmliQ1pZOHVtRFozQ0EyS1dNdjBEa2hwZwp5cFNKUXBzQklncHMzdmlEaVZxMjdlajR6T24xdWx0RXhzTVNYdjFmUkVvRFpHVmw5Ukh3c3FqeWpoeCtvK0hFaVdOVHRXNy8ySzd0ClkwS2hrSkRKcWtRVVNFbE0yMnZDWVJLQ2xBWUFBR0lXMUF4dzU0TVBic3pUczRmZjc3LzJWNzk4V3RSNHZYdmh3dHd6Z2crUE1LUTEKd05TcGsrcUE2QjhlZmVYbHZXK2VPM3RXOTBwY2UzNzdRblpQVDNmVTlaTUNhZE0vSUxFQnNyS3kra0Q0WFRSbGhFTEJFei8vK1JQRgpSdlpsNXZIYkh0cnlSblJSa0Q5ZVNkNXIya0VTZ0xRR0FBQlNvcnQzL3NtVHV6OE9Cb09HWHovYjhucFQ0YW1QVG4xb1BBQzRTMHBtCmQ1cDNoS0pIYWdOY2M5VjRGeEdkTmJKdlY5ZTVRMy80dzhzRlVVcEkySHpmM1liZjhrMGtaK2ZQUUtRMlFGWldWaC9BQnBvQlVtczIKYjBnVW9lSFVxUThMRDczeHVvRUhPTWcvd3BFWVZSTm1CVkliQUFCZzRDdzZmdXlEaHRiV281R2ZBdExJZ3c5c1ZBQ3dMdGtFbCt6cApINGdCQTJTbWo5TFZEQkRRdlhuVCt1dEVhdWpwNmM3NXJ6MHY2aG90SkpacjVzOXdTRytBbkp3Y1A1ajNhdDErLy81OUJ6Lzk5Qk9kCjd5R0t6TDgrODdPckFnRi9yN2F0eVUrVUlLd2p5MHlrTndBQUtCcTdVcG41OU81ZDIrYWJvVUZWMWN6SEgzdWtTY3UyQks1YnNzUnAKNk9MVmFtTENBQmtabzkxRWtkY1RldjY1Wno3bzdlMU5Oa3RIdmFjMi8weEhSOFE1QTZSWU5iVXRlbUxDQURrNU9YNW0yaHR1bTk3ZQpDMi8vK3NYbkRYWDY2Q0J0UzAzRU9RTjlJMU1kTVpIK2dSZ3hRTDlRRHRzTWJOOWUwOGZNWkxhTzk5NTV1N2l0N2QyMllUY2dxaXNvCktMQjE2VGM5eEl3QnhvNU5kQU1ZY2xDbHZmM2pwdWJHaHVzdGt1TFlzdWtIdy83QVJLSUdzYXdoWmd6Z2REb0RDZzNWREpCLzA4YjEKazYzVTB0SFJrZSt0cjN0OWlLLzZScVhHU2ZQY254Wml4Z0FBd0VPTURiejU1di80L3ZMbkUxT3MxdkxZWXp1K1BHZUFxRGFXMGo4UQpZd1lZTnlyZWcwdWJnWTZISHR4NHZSMWEvSDcvZGI5NjlxbEJjd1ppNStyL0lqRmxBS2ZUR1NDaUwrYlcvMjd2bnFOZFhlZEcyNlZuCno1NFhzN3U3dTg4Q0FCRjZVNVBVbUVyL1FJd1pvRjl3LzFrV0RJYU9QZjNVajR2czFNTE00N2MvdFBsUS8zOVV1MkRCQWx0WC9qWkMKekJrZ0xxNndua0FkVHo3NTZLZWhrUEd4ZmxHMHREUVhmblRxNUVuaTJFdi9NVXZOL2R1M29uOTBUb3EvOVBTTTE4eDRUWTBWeEZ3RwpZR2Fscy9OTWx0MDZCdUtjV3hEdlY4L20ycTNEQ0RGbkFGZDk0OStWbFMrdklpSnBIck5lVlhVTEk2VHV0cUluVWpReFpRQ3Z0eldWCldkMnFLSTY0ckduVFcrM1dBd0NKaVlrWE1qT3V6R1ZndnR2ZHVNWnVQWHFKS1FQNGc1MGJ3SmdNQUt1cjEwclI1cGFWTHovTVFBb0EKcU1UYnZkN2pRcWFpV1VYTUdNRHJiY29FY1BmRi93c0xGdVFSa2UyTExhMjZjZlgvVHhWanZ0b2ZPbjJYM1pyMEVETUc4QWRDMjVrNQo2ZUwvRG9mRE1XM2FERnVYVzA5TVRMeVFrWkY1eVZOSHpQeERqNmRwa3AyNjlCQVRCbkM1RGpoQitKdkJuMWZiM0F5VWw2ODREUENsCkUxQ1kwMEljZXNCT1hYcUlDUU9vUkVOZVljOHJLTTRqSWpOWDlRakxxaHR2SHZKelp2NU9uYmRocGwyNjlDQzlBV3JkRFRlQmVlRlEKM3prY0RzZjA2ZG0yTkFPSmlZazk2Um1adzkzN094REFManQwNlVWcUE3UzJ0bzRBc0NQY050VnIxZ2w5QmIxV2xpNnQvSEw2SHdDRAp5K3JxRzVmYW9VMFBVaHZnNUtuT084RjhiYmh0NXMwdnlpV2lUNnpXdG5MVnpSRTdmVmdOUFRyVXV3bGtRbG9EZUR6TjQ0aDRZOFFBCkZNVXhQVHZIMHJkdkpTWWw5VXhPdnlKeTF5OGoyK1h4ZmM5S2JYcVIxZ0FxQjJxWU1Wckx0dFhWYXkxdEJwWXVYUkUyL1ErRW1lOTMKdTF0R1dhbFBEMUlhb003cm04N0E3VnEzbnpldk9NL0tacUJ5MWMxNmp0dUVFUGY5eUNwdGVwSFNBQWp5VG1iRWFRNUNJU1U3ZTZZbAp6VUJpVWxKM2hwYjBmd244VDNYN216V3ZVV1FsMGhuQTVmSjlrNWtyOU82M2VzMDZTOUxzc3VVcmp3enNrZFJJQXZ5QnJWYm8wNHQwCkJtRGk5VWIybXp1M01KZUkyczNXVjdteXl1aVE3K3E2L1Fldk5GdWZYcVF5UUszWGR4MkE1WVlDVVVqSnlabjFqcG42a3BLU3U5TW4KWDZGcnhiR0xNQ09PK3dLV3ZwdElDMUlaZ0lMOC9XZ21WVlNiM0F3c041YitCOERmYldscE1lM2hWU05JWlFBd3FxUFpQZDlaWUdvegpzS0t5S3Ryak5lYXpUbitaV2ZxTUlJMEJ2TjdHS1F6V3RKenJzTUdZMkF3a0pTV2ZuNXllYmlqOVh3S3JwcXhmWUJScERCQU1ZbDcwCnBRRFZhNzQxMmd4OXl5dFdIV1ZHOUxOOW1JVEVLUXBwREtBaU5GZEVPYzY1QmJPSWxJOUY2NnVNUHYwREFKZ2dKRTVSU0dNQWdNWUsKS1lXZ3pKeVpLN1FaU0U1T1BqOXA4dVRvMHo4QU1LZDV2YXk1azh0czVER0F3Rkd6Nmx2WDZWNGJPQnpMbHQ5NFJFajYvNXpNelBlbApHU0dVeHdCRXdzNEtwM04rcnFJb3AwV1ZWN215U3VnUGRxeW41M0lHK0JMTVFZR2wwYXhaZWUrS0tDZzFOYlZyNHNSSjF3c1RSc1FqCk9rWUtlUmVCQ0tReEFDa2tkR3JYNnVwMVFxNHBsaTVmZVJSQWdqaGxmTHlrWktyRzlRYk5SeDRETUIwV1dWNitjOTRzUlZFK2lyYWMKRlpVM2lVM1hES0Z4Um9zMEJraElHSEZFY0pFMEszZjJlOUVVa0pxYTJqVnh3a1F4Vi85ZnFDTFJjVWFGTkFaWXRNaDVta0JDMytTOQpKc3BtWUhuRnFpTVFtdjRCS09RU1dsNjBjdXdXTUJBQ1BTT3l2Tm41enFpYWdSVXJxb1F1UUVGRWI1Y3ZMckxrUmRWYWtjb0FhaXIrCkRZRElsemhUYnA2eFppQTFOZlhjZU1IcG53aENEUzRDcVF6US8zSkZlbEZrbWRWcnZqWE95SDRWRlZWaXIvNkp1dUlkQ2MrTGpFMEUKVWhrQUFPSVV4NzBZWmtWUUk4eWVuVDlUVVpSVGV2ZXJXTEZxaE5qSTZFY2xKVTdibjJZZWpIUUdLQzB0YUNkU0RFMExHd2JLeTV2VApwbWVIMU5TMGMrTW5UQktXL29uUVZGNWErRk9CTVFsRE9nTUFRUG1Tb21jSjRxNldWOSs2YnJ5ZTdTc3FxNDRDTENnRFVBL2k2THRFCnBJbzlTbUtRMGdBQWtKTE1OeFBRTEtLc09iT2RPWXFpYUg3OW04RDAzeGVuS0N2TFM0cUYzdDZLUkZvRExGaXdvQ3M1YWVSU1F2UTkKWjh4TWViUHpOYjBXUGkxdDVObng0NksvK2llaUFEa2N0NVNXRm5xc09GNUdrZFlBQUxCd1llNlpwTVRrSlFUYUYyMVp0NjdSMWd5cwpxS3o2VTdUcG40ZytBMUZWK2VKQzZaZU9sZG9BQUxCbzBaeFB5NVlVbFlLVXU0aGdlQkFsTjIvT1RJZkRFZkVsa0JVVnE2SzY5U1BnCjFhU0VoRm5scFVXdjJIRzg5Q0s5QVlEK0lkUWJsaFE5N3FDNGZBSVo3a2tyTGIzaGczRGZYNUY1NWNteDR5Yk1NYVFSMUtFb3l1M2wKWlF1V0xWcmtGRFlYd1d4aWJtRkRBS2p6Tk56TWpJY2pyUjB3bUs2dWMyZHV1V2taQUF3NVkranhKMy94MnZScE14YnBVME4rQUQ5TwpTVXJiS3ZOcjRvY2pKakxBWU1wTGkvZGNtVEU2RzZUY1JhQU9yZnVscFkwY2M5dHQvekRrdklQNUJjV0haMHpQWHFpMUxBQWdvdDlRClF0ejBHOHFLNzQ3Rkh4K0kwUXd3RUsvMzBHaC9zUHMrWnR3SmpWMjNHemV1OTdZY2JDcTUrUCtVS2RjYy85bFR6NlVRa2JibkVnZ0gKeU9GWVgvNVhoVUp1VSswazVnMXdFYSszY1VwZlVOMUd3Qm90ajVjOS9IQ045NC83UEl2eTgrZSt0WFhiN2dsRUZQRzlRMFRVcGtDNQpkOG1Td3Bmc2psY1VYeGtEWE1UamFaZ2JZbXhtNXFVQXdrem1wQTg5cnQvdktDMnJ1SUdJbG9VekRZSGVaNklueG84WjhaVFQ2UXpZCkhhTkl2bklHdUVoOXZlK0tVRWo5V3dhY0FES1lhRHdCZjJIbXR4emtlQzB1cnVDbGtoSUtBb0RIMDVTdFFxMW1sYk1aUEFPRUVFQ24KQVRxdU1INWRWbGEwMys1NExuTVpVL2cvTTQ4OTd1a0kzalFBQUFBbGRFVllkR1JoZEdVNlkzSmxZWFJsQURJd01qSXRNVEV0TWpCVQpNREU2TVRrNk1qWXJNREU2TURBOU1md0dBQUFBSlhSRldIUmtZWFJsT20xdlpHbG1lUUF5TURJeUxURXhMVEl3VkRBeE9qRTVPakkyCkt6QXhPakF3VEd4RXVnQUFBQUJKUlU1RXJrSmdnZz09IiAvPgo8L3N2Zz4K',
      },
    ];
  }

  public setNetwork(network: WalletNetwork): void {
    if (!Object.values(WalletNetwork).includes(network)) {
      throw new Error(`Wallet network "${network}" is not supported`);
    }

    this.network = network;
  }

  public setWallet(type: WalletType): void {
    if (!Object.values(WalletType).includes(type)) {
      throw new Error(`Wallet type "${type}" is not supported`);
    }

    this.selectedWallet = type;
  }

  public async getPublicKey(): Promise<string> {
    if (!this.selectedWallet) {
      throw new Error('Please set the wallet type first');
    }

    switch (this.selectedWallet) {
      case WalletType.XBULL:
        return xBullGetPublicKey();

      case WalletType.FREIGHTER:
        return freighterGetPublicKey();

      case WalletType.ALBEDO:
        return albedoGetPublicKey().then((response) => response.pubkey);

      case WalletType.RABET:
        return rabetGetPublicKey().then((response) => response.publicKey);

      case WalletType.WALLET_CONNECT:
        return this.getWalletConnectPublicKey();

      default:
        throw new Error(`Wallet type ${this.selectedWallet} not supported`);
    }
  }

  public async sign(
    params: IStellarWalletsKitSignParams
  ): Promise<{ signedXDR: string }> {
    if (!this.selectedWallet) {
      throw new Error('Please set the wallet type first');
    }

    switch (this.selectedWallet) {
      case WalletType.XBULL:
        if ("blob" in params) {
          throw new Error("X Bull does not suport signing arbitrary blobs")
        }
        return xBullSignTransaction({
          xdr: params.xdr,
          publicKey: params.publicKey,
          networkPassphrase: params.network,
        });

      case WalletType.FREIGHTER:
        if ("blob" in params) {
          return freighterSignBlob({
            b64blob: params.blob,
            networkPassphrase: params.network || this.network,
            accountToSign: params.publicKey,
          }).then((response) => ({ signedXDR: response }));
        }
        return freighterSignTransaction({
          xdr: params.xdr,
          networkPassphrase: params.network || this.network,
          accountToSign: params.publicKey,
        }).then((response) => ({ signedXDR: response }));

      case WalletType.ALBEDO:
        if ("blob" in params) {
          throw new Error("Albedo does not suport signing arbitrary blobs")
        }
        return albedoSignTransaction({
          xdr: params.xdr,
          pubKey: params.publicKey,
          network:
            this.network === WalletNetwork.PUBLIC
              ? AlbedoNetwork.PUBLIC
              : AlbedoNetwork.TESTNET,
        }).then((response) => ({ signedXDR: response.signed_envelope_xdr }));

      case WalletType.RABET:
        if ("blob" in params) {
          throw new Error("Rabet does not suport signing arbitrary blobs")
        }
        return rabetSignTransaction({
          xdr: params.xdr,
          network:
            this.network === WalletNetwork.PUBLIC
              ? RabetNetwork.PUBLIC
              : RabetNetwork.TESTNET,
        }).then((response) => ({ signedXDR: response.xdr }));

      case WalletType.WALLET_CONNECT:
        if ("blob" in params) {
          throw new Error("Wallet Connect does not suport signing arbitrary blobs")
        }
        return this.signWalletConnectTransaction({
          xdr: params.xdr,
          method: params.method,
          chain: params.chain,
        });

      default:
        throw new Error(
          `Something went wrong, wallet type ${this.selectedWallet} not handled`
        );
    }
  }

  // ---- Modal methods
  public openModal(params: {
    onWalletSelected: (option: ISupportedWallet) => void;
    onClosed?: (err: Error) => void;
    modalDialogStyles?: { [name: string]: string | number | undefined | null; }
    allowedWallets?: WalletType[];
    modalTitle?: string;
    notAvailableText?: string;
  }) {
    if (this.modalElement) {
      throw new Error(`Stellar Wallets Modal is already open`);
    }

    this.modalElement = document.createElement('stellar-wallets-modal') as StellarWalletsModal;
    this.modalElement.setAttribute('showModal', '');

    if (params.modalDialogStyles) {
      this.modalElement.setAttribute('modalDialogStyles', JSON.stringify(params.modalDialogStyles));
    }

    if (params.allowedWallets) {
      this.modalElement.setAttribute('allowedWallets', JSON.stringify(params.allowedWallets));
    }

    if (params.modalTitle) {
      this.modalElement.setAttribute('modalTitle', params.modalTitle);
    }

    if (params.notAvailableText) {
      this.modalElement.setAttribute('notAvailableText', params.notAvailableText);
    }

    document.body.appendChild(this.modalElement);

    const listener = (event: CustomEvent) => {
      params.onWalletSelected(event.detail);
      // eslint-disable-next-line @typescript-eslint/ban-ts-comment
      // @ts-ignore
      this.modalElement.removeEventListener('wallet-selected', listener, false);
      // eslint-disable-next-line @typescript-eslint/ban-ts-comment
      // @ts-ignore
      document.body.removeChild(this.modalElement);
      this.modalElement = undefined;
    };

    // eslint-disable-next-line @typescript-eslint/ban-ts-comment
    // @ts-ignore
    this.modalElement.addEventListener('wallet-selected', listener, false);

    const errorListener = (event: CustomEvent) => {
      if (params.onClosed) {
        params.onClosed(event.detail);
      }
      // eslint-disable-next-line @typescript-eslint/ban-ts-comment
      // @ts-ignore
      this.modalElement.removeEventListener('wallet-selected', listener, false);
      // eslint-disable-next-line @typescript-eslint/ban-ts-comment
      // @ts-ignore
      this.modalElement.removeEventListener('modal-closed', errorListener, false);
      // eslint-disable-next-line @typescript-eslint/ban-ts-comment
      // @ts-ignore
      document.body.removeChild(this.modalElement);
      this.modalElement = undefined;
    };

    // eslint-disable-next-line @typescript-eslint/ban-ts-comment
    // @ts-ignore
    this.modalElement.addEventListener('modal-closed', errorListener, false);
  }
  // ---- END Modal methods

  // ---- WalletConnect methods
  private WCSignClient?: ISignClientExtended;
  private WCActiveSession?: string;

  /**
   * Allows manually setting the current active session to be used in the kit when doing WalletConnect requests
   *
   * @param sessionId The session ID is a placeholder for the session "topic", term used in WalletConnect
   * */
  public setSession(sessionId: string) {
    this.WCActiveSession = sessionId;
  }

  public onSessionDeleted(cb: (sessionId: string) => void) {
    if (!this.WCSignClient) {
      throw new Error('WalletConnect is not running yet');
    }

    this.WCSignClient.on('session_delete', (data) => {
      cb(data.topic);
    });
  }

  public async startWalletConnect(params: {
    projectId: string;
    name: string;
    description: string;
    url: string;
    icons: string[];
  }): Promise<void> {
    if (this.WCSignClient) {
      throw new Error('WalletConnect is already running');
    }

    this.WCSignClient = (await createWalletConnectClient(
      params
    )) as ISignClientExtended;
  }

  public async connectWalletConnect(
    params?: IConnectWalletConnectParams
  ): Promise<IParsedWalletConnectSession> {
    if (!this.WCSignClient) {
      throw new Error('WalletConnect is not running yet');
    }

    return connectWalletConnect({
      client: this.WCSignClient,
      pairingTopic: params?.pairingTopic,
      chains: params?.chains || [
        this.network === WalletNetwork.PUBLIC
          ? WalletConnectTargetChain.PUBLIC
          : WalletConnectTargetChain.TESTNET,
      ],
      methods: params?.methods,
    })
      .then(parseWalletConnectSession)
      .then((session) => {
        this.WCActiveSession = session.id;
        return session;
      });
  }

  public async closeSession(sessionId: string, reason?: string): Promise<void> {
    if (!this.WCSignClient) {
      throw new Error('WalletConnect is not running yet');
    }

    await this.WCSignClient.disconnect({
      topic: sessionId,
      reason: {
        message: reason || 'Session closed',
        code: -1
      }
    });
  }

  public async getSessions(): Promise<IParsedWalletConnectSession[]> {
    if (!this.WCSignClient) {
      throw new Error('WalletConnect is not running yet');
    }

    return this.WCSignClient.session.values.map(parseWalletConnectSession);
  }

  private async getWalletConnectPublicKey(): Promise<string> {
    if (!this.WCSignClient) {
      throw new Error('WalletConnect is not running yet');
    }

    const activeSessions = await this.getSessions();
    const targetSession = activeSessions.find(
      (session) => session.id === this.WCActiveSession
    );

    if (!targetSession) {
      throw new Error(
        'There is no active session handled by Stellar Wallets Kit, please create a new session or connect with an already existing session'
      );
    }

    return targetSession.accounts[0].publicKey;
  }

  private async signWalletConnectTransaction(params: {
    xdr: string;
    method?: WalletConnectAllowedMethods;
    chain?: WalletConnectTargetChain;
  }): Promise<{ signedXDR: string }> {
    if (!this.WCSignClient) {
      throw new Error('WalletConnect is not running yet');
    }

    const activeSessions = await this.getSessions();
    const targetSession = activeSessions.find(
      (session) => session.id === this.WCActiveSession
    );

    if (!targetSession) {
      throw new Error(
        'There is no active session handled by Stellar Wallets Kit, please create a new session or set an existing session'
      );
    }

    return makeWalletConnectRequest({
      topic: targetSession.id,
      xdr: params.xdr,
      client: this.WCSignClient,
      chain:
        params.chain || this.network === WalletNetwork.PUBLIC
          ? WalletConnectTargetChain.PUBLIC
          : WalletConnectTargetChain.TESTNET,
      method: params.method,
    });
  }
  // ---- WalletConnect methods END
}
