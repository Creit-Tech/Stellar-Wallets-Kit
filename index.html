<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Stellar Wallets Kit - v0.0.4</title><meta name="description" content="Documentation for Stellar Wallets Kit - v0.0.4"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"><a href="https://github.com/Creit-Tech/Stellar-Wallets-Kit">Github</a><a href="https://creit.tech">Creit Tech</a></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">Stellar Wallets Kit - v0.0.4</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-8 col-content">
<div class="tsd-page-title">
<h2>Stellar Wallets Kit - v0.0.4</h2></div>
<div class="tsd-panel tsd-typography"><p>A kit to handle all Stellar Wallets at once with a simple API and without caring about individual configurations for each one of them. This library cares only about the connection and interaction with the wallets, allowing developers handling the UI/UX in the way they want.</p>

<a href="#documentation" id="documentation" style="color: inherit; text-decoration: none;">
  <h2>Documentation</h2>
</a>
<p><a href="https://creit-tech.github.io/Stellar-Wallets-Kit/">https://creit-tech.github.io/Stellar-Wallets-Kit/</a></p>

<a href="#compatible-wallets" id="compatible-wallets" style="color: inherit; text-decoration: none;">
  <h2>Compatible Wallets:</h2>
</a>
<ul>
<li>xBull Wallet (Both PWA and extension version)</li>
<li>Albedo</li>
<li>Freighter</li>
<li>WalletConnect v2 (Lobstr, xBull Wallet, etc)</li>
<li>Rabet (extension version)</li>
</ul>

<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
  <h2>Installation</h2>
</a>
<pre><code class="language-shell"><span class="hl-0">npm i --save github:Creit-Tech/Stellar-Wallets-Kit</span>
</code></pre>
<p>Install the latest version available in our repo, we use Github instead of NPM because this way you can check the code before installing it which in our view is safer.</p>
<blockquote>
<p>We recommend you using version tags when installing the library, this way you have control when doing an <code>npm i</code></p>
</blockquote>

<a href="#the-stellarwalletskit-class" id="the-stellarwalletskit-class" style="color: inherit; text-decoration: none;">
  <h2>The StellarWalletsKit class</h2>
</a>
<p>The first step will be creating a new instance from the main class, you should only create one instance in order to avoid unexpected results.</p>
<pre><code class="language-typescript"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">StellarWalletsKit</span><span class="hl-0">, </span><span class="hl-2">WalletNetwork</span><span class="hl-0">, </span><span class="hl-2">WalletType</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;stellar-wallets-kit&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">kit</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-6">StellarWalletsKit</span><span class="hl-0">({</span><br/><span class="hl-0">  </span><span class="hl-2">network:</span><span class="hl-0"> </span><span class="hl-2">WalletNetwork</span><span class="hl-0">.</span><span class="hl-5">TESTNET</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">selectedWallet:</span><span class="hl-0"> </span><span class="hl-2">WalletType</span><span class="hl-0">.</span><span class="hl-5">XBULL</span><br/><span class="hl-0">});</span>
</code></pre>

<a href="#request-the-public-key-and-sign-transactions" id="request-the-public-key-and-sign-transactions" style="color: inherit; text-decoration: none;">
  <h2>Request the public key and sign transactions</h2>
</a>
<p>Each wallet has its own way when it comes to both requesting the public key and signing a transaction. Using this kit you can do both actions with a unified API:</p>
<pre><code class="language-typescript"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">publicKey</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">kit</span><span class="hl-0">.</span><span class="hl-6">getPublicKey</span><span class="hl-0">();</span><br/><br/><span class="hl-7">// AND</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> { </span><span class="hl-5">signedXDR</span><span class="hl-0"> } = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">kit</span><span class="hl-0">.</span><span class="hl-6">sign</span><span class="hl-0">({</span><br/><span class="hl-0">  </span><span class="hl-2">xdr:</span><span class="hl-0"> </span><span class="hl-3">&#39;....&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">publicKey</span><span class="hl-0">,</span><br/><span class="hl-0">});</span>
</code></pre>
<p>Both methods will trigger the action targeting the wallet you have set before calling those methods.</p>
<blockquote>
<p>IMPORTANT: The parameter <code>publicKey</code> in the method <code>sign</code> is optional, but we highly suggest using it because there are wallets which have special requirements regarding that so in order to avoid unexpected behavior it&#39;s better to provide it.</p>
</blockquote>

<a href="#walletconnect" id="walletconnect" style="color: inherit; text-decoration: none;">
  <h2>WalletConnect</h2>
</a>
<p>Handling WalletConnect requires a few extra steps but this kit reduces a lot the complexity behind it.</p>

<a href="#start-the-walletconnect-client" id="start-the-walletconnect-client" style="color: inherit; text-decoration: none;">
  <h3>Start the WalletConnect client</h3>
</a>
<p>The first step is setting the WalletConnect client, in order to do it you need to execute the method <code>startWalletConnect</code> with the WalletConnect metadata for your app.</p>
<pre><code class="language-typescript"><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">kit</span><span class="hl-0">.</span><span class="hl-6">startWalletConnect</span><span class="hl-0">({</span><br/><span class="hl-0">  </span><span class="hl-2">name:</span><span class="hl-0"> </span><span class="hl-3">&#39;NAME_OF_APP&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">description:</span><span class="hl-0"> </span><span class="hl-3">&#39;DESCRIPTION_OF_APP&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">url:</span><span class="hl-0"> </span><span class="hl-3">&#39;URL_OF_APP&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">icons:</span><span class="hl-0"> [</span><br/><span class="hl-0">    </span><span class="hl-3">&#39;URL_OF_ICON&#39;</span><br/><span class="hl-0">  ],</span><br/><span class="hl-0">  </span><span class="hl-2">projectId:</span><span class="hl-0"> </span><span class="hl-3">&#39;PROJECT_ID_FROM_WALLET_CONNECT&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">})</span>
</code></pre>
<blockquote>
<p>You need to wait until it has completely started, otherwise other methods will throw an error.</p>
</blockquote>

<a href="#connect-in-order-to-create-a-new-session" id="connect-in-order-to-create-a-new-session" style="color: inherit; text-decoration: none;">
  <h3>Connect in order to create a new session</h3>
</a>
<p>In WalletConnect we use <code>sessions</code> which are handled by WalletConnect itself, with these sessions we are able to tell WalletConnect to which wallet the request should be done. In order to create a new session with this kit you need to use the method <code>connectWalletConnect</code> like this:</p>
<pre><code class="language-typescript"><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-2">walletService</span><span class="hl-0">.</span><span class="hl-2">kit</span><span class="hl-0">.</span><span class="hl-6">connectWalletConnect</span><span class="hl-0">();</span>
</code></pre>
<p>By default, the method will try to create a new session by showing the classic WalletConnect QR but if you already have a valid pairing topic you can pass it as a parameter. You can also set the accepted chains and methods to use.</p>
<pre><code class="language-typescript"><span class="hl-1">export</span><span class="hl-0"> </span><span class="hl-4">interface</span><span class="hl-0"> </span><span class="hl-8">IConnectWalletConnectParams</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-2">chains</span><span class="hl-0">?: </span><span class="hl-8">WalletConnectTargetChain</span><span class="hl-0">[];</span><br/><span class="hl-0">  </span><span class="hl-2">methods</span><span class="hl-0">?: </span><span class="hl-8">WalletConnectAllowedMethods</span><span class="hl-0">[];</span><br/><span class="hl-0">  </span><span class="hl-2">pairingTopic</span><span class="hl-0">?: </span><span class="hl-8">string</span><span class="hl-0">;</span><br/><span class="hl-0">}</span>
</code></pre>
<p>After you have successfully created the session you will be able to call the regular methods <code>getPublicKey</code> or <code>sign</code>.</p>
<blockquote>
<p>IMPORTANT: Version 2.0 from WalletConnect introduces a new way to create and activate pairings, this is something that is not yet supported by popular wallets so currently is not supported in this kit.</p>
</blockquote>

<a href="#extra-methods" id="extra-methods" style="color: inherit; text-decoration: none;">
  <h2>Extra methods</h2>
</a>
<p>There will be moments where you would like to change certain parameters from the kit like the selected wallet, the network, etc... or maybe listening when a WalletConnect session was removed. These methods will help you in those situations: </p>

<a href="#set-the-target-wallet" id="set-the-target-wallet" style="color: inherit; text-decoration: none;">
  <h3>Set the target wallet</h3>
</a>
<pre><code class="language-typescript"><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">kit</span><span class="hl-0">.</span><span class="hl-6">setWallet</span><span class="hl-0">(</span><span class="hl-2">WalletType</span><span class="hl-0">.</span><span class="hl-5">XBULL</span><span class="hl-0">)</span>
</code></pre>

<a href="#set-the-target-network" id="set-the-target-network" style="color: inherit; text-decoration: none;">
  <h3>Set the target network</h3>
</a>
<pre><code class="language-typescript"><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">kit</span><span class="hl-0">.</span><span class="hl-6">setNetwork</span><span class="hl-0">(</span><span class="hl-2">WalletNetwork</span><span class="hl-0">.</span><span class="hl-5">TESTNET</span><span class="hl-0">);</span>
</code></pre>

<a href="#get-walletconnect-sessions" id="get-walletconnect-sessions" style="color: inherit; text-decoration: none;">
  <h3>Get WalletConnect sessions</h3>
</a>
<pre><code class="language-typescript"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">sessions</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">kit</span><span class="hl-0">.</span><span class="hl-6">getSessions</span><span class="hl-0">();</span>
</code></pre>

<a href="#set-the-walletconnect-session-id" id="set-the-walletconnect-session-id" style="color: inherit; text-decoration: none;">
  <h3>Set the WalletConnect session ID</h3>
</a>
<pre><code class="language-typescript"><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">kit</span><span class="hl-0">.</span><span class="hl-6">setSession</span><span class="hl-0">(</span><span class="hl-2">sessionId</span><span class="hl-0">);</span>
</code></pre>

<a href="#listen-to-walletconnect-sessions-being-removed" id="listen-to-walletconnect-sessions-being-removed" style="color: inherit; text-decoration: none;">
  <h3>Listen to WalletConnect sessions being removed</h3>
</a>
<pre><code class="language-typescript"><span class="hl-2">kit</span><span class="hl-0">.</span><span class="hl-6">onSessionDeleted</span><span class="hl-0">((</span><span class="hl-2">sessionId</span><span class="hl-0">: </span><span class="hl-8">string</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-7">// ...</span><br/><span class="hl-0">});</span>
</code></pre>
<p>And more methods, check the documentation to see all the methods available.</p>

<a href="#license" id="license" style="color: inherit; text-decoration: none;">
  <h2>License</h2>
</a>
<p><img src="https://img.shields.io/badge/License-MIT-lightgrey" alt=""></p>
<p>Licensed under the MIT License, Copyright Â© 2022-present Creit Tech International Corp.</p>
<p>Checkout the <code>LICENSE.md</code> file for more details.</p>
</div></div>
<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<nav class="tsd-navigation primary">
<details class="tsd-index-accordion" open><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Modules</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li class="current selected"><a href="modules.html">Stellar <wbr/>Wallets <wbr/>Kit -<wbr/> v0.0.4</a>
<ul></ul></li></ul></div></details></nav>
<nav class="tsd-navigation secondary menu-sticky">
<ul>
<li class="tsd-kind-enum"><a href="enums/WalletNetwork.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-enum)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-8-path"></rect><path d="M9.45 16V7.24H14.49V8.224H10.518V10.936H14.07V11.908H10.518V15.016H14.49V16H9.45Z" fill="var(--color-text)" id="icon-8-text"></path></svg>Wallet<wbr/>Network</a></li>
<li class="tsd-kind-enum"><a href="enums/WalletType.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-8-path"></use><use href="#icon-8-text"></use></svg>Wallet<wbr/>Type</a></li>
<li class="tsd-kind-class"><a href="classes/StellarWalletsKit.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-class)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-128-path"></rect><path d="M11.898 16.1201C11.098 16.1201 10.466 15.8961 10.002 15.4481C9.53803 15.0001 9.30603 14.3841 9.30603 13.6001V9.64012C9.30603 8.85612 9.53803 8.24012 10.002 7.79212C10.466 7.34412 11.098 7.12012 11.898 7.12012C12.682 7.12012 13.306 7.34812 13.77 7.80412C14.234 8.25212 14.466 8.86412 14.466 9.64012H13.386C13.386 9.14412 13.254 8.76412 12.99 8.50012C12.734 8.22812 12.37 8.09212 11.898 8.09212C11.426 8.09212 11.054 8.22412 10.782 8.48812C10.518 8.75212 10.386 9.13212 10.386 9.62812V13.6001C10.386 14.0961 10.518 14.4801 10.782 14.7521C11.054 15.0161 11.426 15.1481 11.898 15.1481C12.37 15.1481 12.734 15.0161 12.99 14.7521C13.254 14.4801 13.386 14.0961 13.386 13.6001H14.466C14.466 14.3761 14.234 14.9921 13.77 15.4481C13.306 15.8961 12.682 16.1201 11.898 16.1201Z" fill="var(--color-text)" id="icon-128-text"></path></svg>Stellar<wbr/>Wallets<wbr/>Kit</a></li>
<li class="tsd-kind-interface"><a href="interfaces/IConnectWalletConnectParams.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-interface)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-256-path"></rect><path d="M9.51 16V15.016H11.298V8.224H9.51V7.24H14.19V8.224H12.402V15.016H14.19V16H9.51Z" fill="var(--color-text)" id="icon-256-text"></path></svg>IConnect<wbr/>Wallet<wbr/>Connect<wbr/>Params</a></li>
<li class="tsd-kind-interface"><a href="interfaces/IStellarWalletsKitSignParams.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>IStellar<wbr/>Wallets<wbr/>Kit<wbr/>Sign<wbr/>Params</a></li>
<li class="tsd-kind-interface"><a href="interfaces/ISupportedWallet.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>ISupported<wbr/>Wallet</a></li></ul></nav></div></div>
<div class="container tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div><script src="assets/main.js"></script></body></html>